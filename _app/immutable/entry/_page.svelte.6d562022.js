var En=Object.defineProperty;var Tn=(t,e,a)=>e in t?En(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var Se=(t,e,a)=>(Tn(t,typeof e!="symbol"?e+"":e,a),a);import{S as ve,i as ge,n as _e,j as F,s as I,q as me,k as U,l as G,c as M,r as he,g as $,m as d,J as Ve,K as Ie,a as N,G as E,H as He,L as at,C as On,M as Je,u as Be,D as An,E as Cn,F as Pn,f as T,b as O,N as st,y as C,z as P,A as D,B as L,I as Ee,O as ze,e as ct,v as rn,d as sn,P as Dn,Q as Ln,R as In,p as Mn,o as jn,T as Mt,U as kn,w as Fn,V as Un}from"../chunks/index.b30f5e97.js";import{b as ft,w as Pt,d as xn}from"../chunks/paths.17ca2417.js";function Rn(t){let e,a,n,i,r,l,s,o,u,f,c,g,m;return{c(){e=F("header"),a=F("img"),i=I(),r=F("h1"),l=me("Jumping Peter"),s=I(),o=F("p"),u=me("generate gif emojis"),f=I(),c=F("a"),g=me("Contribute"),this.h()},l(h){e=U(h,"HEADER",{class:!0});var p=G(e);a=U(p,"IMG",{class:!0,src:!0,alt:!0}),i=M(p),r=U(p,"H1",{class:!0});var _=G(r);l=he(_,"Jumping Peter"),_.forEach($),s=M(p),o=U(p,"P",{class:!0});var b=G(o);u=he(b,"generate gif emojis"),b.forEach($),f=M(p),c=U(p,"A",{class:!0,href:!0,target:!0,rel:!0});var S=G(c);g=he(S,"Contribute"),S.forEach($),p.forEach($),this.h()},h(){d(a,"class","logo svelte-bal6b7"),Ve(a.src,n=`${ft}/demo-jumping.gif`)||d(a,"src",n),d(a,"alt",""),d(r,"class","title svelte-bal6b7"),d(o,"class","subtitle svelte-bal6b7"),d(c,"class","contribute svelte-bal6b7"),d(c,"href","https://github.com/ksmai/jumping-peter"),d(c,"target","_blank"),d(c,"rel","noreferrer"),d(e,"class",m=Ie(`header ${t[0]}`)+" svelte-bal6b7")},m(h,p){N(h,e,p),E(e,a),E(e,i),E(e,r),E(r,l),E(e,s),E(e,o),E(o,u),E(e,f),E(e,c),E(c,g)},p(h,[p]){p&1&&m!==(m=Ie(`header ${h[0]}`)+" svelte-bal6b7")&&d(e,"class",m)},i:He,o:He,d(h){h&&$(e)}}}function Bn(t,e,a){let{class:n=""}=e;return t.$$set=i=>{"class"in i&&a(0,n=i.class)},[n]}class Nn extends ve{constructor(e){super(),ge(this,e,Bn,Rn,_e,{class:0})}}function it(t){return{...t,type:"slider",min:-360,max:360,step:1}}function pt(t){return{...t,type:"slider",min:-1,max:1,step:.01}}function xe(t){return{...t,type:"slider",min:0,max:1,step:.01}}function jt(t){return{...t,type:"slider",min:-1,max:1,step:.01}}function At(t){return{...t,type:"slider",min:.1,max:5,step:.1}}function kt(t){return{...t,type:"slider",min:-1,max:1,step:1}}function zn(t){return{...t,type:"slider",min:1,max:100,step:1}}function Hn(t){return{...t,type:"slider",min:1,max:5,step:1}}function ot(t){return{...t,type:"toggle"}}function Gn(t){return t.reduce((e,a)=>(Object.assign(e,{[a.name]:a.value}),e),{})}const pe={image:{url:`${ft}/favicon.png`},output:{width:64,height:64,clear:[1,1,1],delayMs:50,totalFrames:20},material:{specular:[0,0,0],shininess:32},directionalLight:{ambient:[1,1,1],diffuse:[0,0,0],specular:[0,0,0],direction:[0,-1,0]},pointLight:{ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],position:[0,0,0],attenuation1:0,attenuation2:0},spotLight:{ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],position:[0,0,0],direction:[0,0,-1],innerDegrees:90,outerDegrees:180,attenuation1:0,attenuation2:0},camera:{position:[0,0,5],lookAt:[0,0,-1],up:[0,1,0]},projection:{perspective:!1,left:-1,right:1,bottom:-1,top:1,near:.1,far:10}};function be(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function We(t,e,a){t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=a,t[5]*=a,t[9]*=a,t[13]*=a}function we(t,e,a){on(t,e,a,0)}function on(t,e,a,n){t[12]+=e,t[13]+=a,t[14]+=n}function mt(t,e){ln(t,e,[0,0,1])}function ln(t,e,a){const n=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);if(n===0)return;const i=a[0]/n,r=a[1]/n,l=a[2]/n,s=e/180*Math.PI,o=Math.cos(s),u=Math.sin(s),f=[(1-o)*i*i+o,(1-o)*i*r+u*l,(1-o)*i*l-u*r,0,(1-o)*i*r-u*l,(1-o)*r*r+o,(1-o)*r*l-u*i,0,(1-o)*i*l+u*r,(1-o)*r*l-u*i,(1-o)*l*l+o,0,0,0,0,1];_t(t,f)}function qn(t,e,a,n){on(t,-e[0],-e[1],-e[2]);const i=[-a[0],-a[1],-a[2]];Ft(i);const r=Ut(n,i);Ft(r);const l=Ut(i,r),s=[r[0],l[0],i[0],0,r[1],l[1],i[1],0,r[2],l[2],i[2],0,0,0,0,1];_t(t,s)}function Xn(t,e,a,n,i,r,l){const s=[2*r/(a-e),0,0,0,0,2*r/(i-n),0,0,(a+e)/(a-e),(i+n)/(i-n),-(l+r)/(l-r),-1,0,0,-2*l*r/(l-r),0];_t(t,s)}function Vn(t,e,a,n,i,r,l){const s=[2/(a-e),0,0,0,0,2/(i-n),0,0,0,0,-2/(l-r),0,-(a+e)/(a-e),-(i+n)/(i-n),-(l+r)/(l-r),1];_t(t,s)}function _t(t,e){const a=t.slice();for(let n=0;n<=3;++n)for(let i=0;i<=3;++i){const r=4*n+i;t[r]=0;for(let l=0;l<=3;++l)t[r]+=e[4*l+i]*a[4*n+l]}}function Ft(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return e===0?t:[t[0]/e,t[1]/e,t[2]/e]}function Ut(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function fe(t,e,a){return t+(e-t)*a}function ht(t){return t*Math.PI/180}function xt(t){const e=new Float32Array([t]),[a]=new Int32Array(e.buffer);let n=Math.abs(a)|0;return n=(n>>16^n)*73244475,n=(n>>16^n)*73244475,n=n>>16^n,n/(Math.pow(2,31)-1)}function Yn(t){return e=>1-Math.pow(1-e,t)}function Wn(t){const e=Math.pow(2,t-1);return a=>a<.5?e*Math.pow(a,t):1-Math.pow(2*(1-a),t)/2}const yt=Yn(3);function Rt(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)}const Jn="spinning",Zn={...pe,output:{...pe.output,delayMs:50,totalFrames:15}},Qn=[it({name:"startAngle",value:0}),it({name:"endAngle",value:360}),pt({name:"originX",value:0}),pt({name:"originY",value:0}),ot({name:"alternates",value:!1})];function un(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("full"),{alternates:r,startAngle:l,endAngle:s,originX:o,originY:u}=a;return[{program:n,geometry:i,getUniforms:c=>{const g=r?Math.min(c,1-c)*2:c,m=fe(l,s,g),h=be();return we(h,-o,-u),mt(h,m),we(h,o,u),{u_model:h}}}]}const Kn=Object.freeze(Object.defineProperty({__proto__:null,createSprites:un,defaultOptions:Zn,editOptions:Qn,name:Jn},Symbol.toStringTag,{value:"Module"})),ea="expanding",ta={...pe,output:{...pe.output,delayMs:50,totalFrames:20}},na=[At({name:"minScale",value:1}),At({name:"maxScale",value:2}),ot({name:"alternates",value:!1})];function cn(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("full"),{minScale:r,maxScale:l,alternates:s}=a;return[{program:n,geometry:i,getUniforms:u=>{const f=s?Math.min(u,1-u)*2:u,c=fe(r,l,f),g=be();return We(g,c,c),{u_model:g}}}]}const aa=Object.freeze(Object.defineProperty({__proto__:null,createSprites:cn,defaultOptions:ta,editOptions:na,name:ea},Symbol.toStringTag,{value:"Module"})),ra="extreme-speed",ia={...pe,output:{...pe.output,delayMs:20,totalFrames:10}},sa=[kt({name:"directionX",value:-1}),kt({name:"directionY",value:0})];function fn(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("sudoku"),{directionX:r,directionY:l}=a,s=r*2,o=l*2;return[{program:n,geometry:i,getUniforms:f=>{const c=be(),g=fe(0,s,f),m=fe(0,o,f);return we(c,g,m),{u_model:c}}}]}const oa=Object.freeze(Object.defineProperty({__proto__:null,createSprites:fn,defaultOptions:ia,editOptions:sa,name:ra},Symbol.toStringTag,{value:"Module"})),la="excited",ua={...pe,output:{...pe.output,delayMs:50,totalFrames:25}},ca=[it({name:"angle",value:15}),jt({name:"startOffset",value:-.1}),jt({name:"endOffset",value:.1}),zn({name:"cycles",value:3})];function pn(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("full"),{angle:r,cycles:l}=a;let{startOffset:s,endOffset:o}=a;s*=2,o*=2;const u=ht(r),f=Math.cos(u),c=Math.sin(u);return[{program:n,geometry:i,getUniforms:m=>{const h=m*2*l%1,p=Math.min(h,1-h)*2,_=fe(-s*c,-o*c,p),b=fe(s*f,o*f,p),S=be();return mt(S,r),we(S,_,b),We(S,m>.5?-1:1,1),{u_model:S}}}]}const fa=Object.freeze(Object.defineProperty({__proto__:null,createSprites:pn,defaultOptions:ua,editOptions:ca,name:la},Symbol.toStringTag,{value:"Module"})),pa="jumping",ma={...pe,output:{...pe.output,delayMs:50,totalFrames:20}},ha=[xe({name:"maxOffset",value:.6}),xe({name:"compressTime",value:.4}),xe({name:"maxCompress",value:.3})];function mn(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("full"),{maxOffset:r,compressTime:l,maxCompress:s}=a;return[{program:n,geometry:i,getUniforms:u=>{const f=Math.min(u,1-u)*2,c=be(),g=f/(1-l);if(g<1){const m=(1-g*g)*r*2;we(c,0,m)}else{const m=(1-f)/l,p=1-(1-m*m)*s;we(c,0,1),We(c,1/p,p),we(c,0,-1)}return{u_model:c}}}]}const va=Object.freeze(Object.defineProperty({__proto__:null,createSprites:mn,defaultOptions:ma,editOptions:ha,name:pa},Symbol.toStringTag,{value:"Module"})),ga="tower",_a={...pe,output:{...pe.output,delayMs:40,totalFrames:20}},da=[it({name:"startAngle",value:20}),it({name:"endAngle",value:-45}),xe({name:"startTime",value:.5})];function hn(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("tower"),{startAngle:r,endAngle:l,startTime:s}=a;return[{program:n,geometry:i,getUniforms:u=>{const f=be();if(u<s){const c=u/s,g=Math.min(c,1-c)*2,m=fe(0,r,g);mt(f,m)}else{const c=(u-s)/(1-s),g=Math.min(c,1-c)*2,m=fe(0,l,g);if(mt(f,m),c>.5){const h=ht(m),p=Math.cos(h),_=Math.sin(h),b=(c-.5)*2,S=fe(0,-2*_,b),v=fe(0,2*p,b);we(f,S,v)}}return{u_model:f}}}]}const $a=Object.freeze(Object.defineProperty({__proto__:null,createSprites:hn,defaultOptions:_a,editOptions:da,name:ga},Symbol.toStringTag,{value:"Module"})),ba="repeated",wa={...pe,output:{...pe.output,delayMs:60,totalFrames:15}},ya=[At({name:"initialScale",value:.1}),ot({name:"horizontal",value:!1})];function vn(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("full"),{initialScale:r,horizontal:l}=a,s=l?{geometry:e.createGeometry("leftHalf"),endX:-1,endY:0}:{geometry:e.createGeometry("topHalf"),endX:0,endY:1},o=l?{geometry:e.createGeometry("rightHalf"),endX:1,endY:0}:{geometry:e.createGeometry("bottomHalf"),endX:0,endY:-1},u=g=>{const m=be(),h=yt(g),p=fe(r,1,h);return We(m,p,p),{u_model:m}},f=g=>{const m=be(),h=yt(g),p=fe(0,s.endX,h),_=fe(0,s.endY,h);return we(m,p,_),{u_model:m}},c=g=>{const m=be(),h=yt(g),p=fe(0,o.endX,h),_=fe(0,o.endY,h);return we(m,p,_),{u_model:m}};return[{program:n,geometry:i,getUniforms:u},{program:n,geometry:s.geometry,getUniforms:f},{program:n,geometry:o.geometry,getUniforms:c}]}const Sa=Object.freeze(Object.defineProperty({__proto__:null,createSprites:vn,defaultOptions:wa,editOptions:ya,name:ba},Symbol.toStringTag,{value:"Module"})),Ea="mirror",Ta={...pe,output:{...pe.output,delayMs:50,totalFrames:16}},Oa=[ot({name:"rightHalf",value:!1})];function gn(t,e,a){const n=t.createProgram("default"),{rightHalf:i}=a,r=e.createGeometry(i?"rightHalf":"leftHalf");return[{program:n,geometry:r,getUniforms:o=>{const u=Math.min(o,1-o)*2,f=be(),c=Rt(u),g=fe(-2,-1,c);return i||We(f,-1,1),we(f,g,0),{u_model:f}}},{program:n,geometry:r,getUniforms:o=>{const u=Math.min(o,1-o)*2,f=be(),c=Rt(u),g=fe(2,1,c);return i&&We(f,-1,1),we(f,g,0),{u_model:f}}}]}const Aa=Object.freeze(Object.defineProperty({__proto__:null,createSprites:gn,defaultOptions:Ta,editOptions:Oa,name:Ea},Symbol.toStringTag,{value:"Module"})),Ca="panic",Pa={...pe,output:{...pe.output,delayMs:30,totalFrames:16}},Da=[xe({name:"maxOffsetX",value:.15}),xe({name:"maxOffsetY",value:.15})];function _n(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("full"),{maxOffsetX:r,maxOffsetY:l}=a;return[{program:n,geometry:i,getUniforms:o=>{const u=xt(o+.123),f=xt(o*2+1),c=fe(-r,r,u),g=fe(-l,l,f),m=be();return we(m,c,g),{u_model:m}}}]}const La=Object.freeze(Object.defineProperty({__proto__:null,createSprites:_n,defaultOptions:Pa,editOptions:Da,name:Ca},Symbol.toStringTag,{value:"Module"})),Ia="rotating",Ma={...pe,output:{...pe.output,delayMs:60,totalFrames:35},camera:{position:[0,0,5],lookAt:[0,0,-1],up:[0,1,0]},projection:{perspective:!0,left:-.2,right:.2,bottom:-.2,top:.2,near:1,far:9},material:{specular:[1,1,1],shininess:100},directionalLight:{ambient:[.6,.6,.6],diffuse:[1,1,1],specular:[1,1,1],direction:[-1,-1,-5]}},ja=[xe({name:"axisX",value:0}),xe({name:"axisY",value:1}),xe({name:"axisZ",value:0}),pt({name:"originX",value:0}),pt({name:"originY",value:0}),Hn({name:"easing",value:1}),ot({name:"alternates",value:!1})];function dn(t,e,a){const n=t.createProgram("default"),i=e.createGeometry("full"),{axisX:r,axisY:l,axisZ:s,originX:o,originY:u,easing:f,alternates:c}=a,g=[r,l,s],m=Wn(f);return[{program:n,geometry:i,getUniforms:p=>{const _=c?Math.min(p,1-p)*2:p,b=m(_),S=fe(0,360,b),v=be();return we(v,-o,-u),ln(v,S,g),we(v,o,u),{u_model:v}}}]}const ka=Object.freeze(Object.defineProperty({__proto__:null,createSprites:dn,defaultOptions:Ma,editOptions:ja,name:Ia},Symbol.toStringTag,{value:"Module"})),St=[va,oa,Kn,fa,aa,$a,Sa,Aa,La,ka];function Bt(t,e,a){const n=Gn(a.editOptions);switch(a.name){case"spinning":return un(t,e,n);case"expanding":return cn(t,e,n);case"extreme-speed":return fn(t,e,n);case"excited":return pn(t,e,n);case"jumping":return mn(t,e,n);case"tower":return hn(t,e,n);case"repeated":return vn(t,e,n);case"mirror":return gn(t,e,n);case"panic":return _n(t,e,n);case"rotating":return dn(t,e,n);default:(i=>{throw new Error(`Unknown animation: ${JSON.stringify(i)}`)})(a)}}var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fa=typeof lt=="object"&&lt&&lt.Object===Object&&lt,Ua=Fa,xa=Ua,Ra=typeof self=="object"&&self&&self.Object===Object&&self,Ba=xa||Ra||Function("return this")(),dt=Ba,Na=dt,za=Na.Symbol,$n=za,Nt=$n,bn=Object.prototype,Ha=bn.hasOwnProperty,Ga=bn.toString,et=Nt?Nt.toStringTag:void 0;function qa(t){var e=Ha.call(t,et),a=t[et];try{t[et]=void 0;var n=!0}catch{}var i=Ga.call(t);return n&&(e?t[et]=a:delete t[et]),i}var Xa=qa,Va=Object.prototype,Ya=Va.toString;function Wa(t){return Ya.call(t)}var Ja=Wa,zt=$n,Za=Xa,Qa=Ja,Ka="[object Null]",er="[object Undefined]",Ht=zt?zt.toStringTag:void 0;function tr(t){return t==null?t===void 0?er:Ka:Ht&&Ht in Object(t)?Za(t):Qa(t)}var nr=tr;function ar(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wn=ar,rr=nr,ir=wn,sr="[object AsyncFunction]",or="[object Function]",lr="[object GeneratorFunction]",ur="[object Proxy]";function cr(t){if(!ir(t))return!1;var e=rr(t);return e==or||e==lr||e==sr||e==ur}var fr=cr,pr=dt,mr=pr["__core-js_shared__"],hr=mr,Et=hr,Gt=function(){var t=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vr(t){return!!Gt&&Gt in t}var gr=vr,_r=Function.prototype,dr=_r.toString;function $r(t){if(t!=null){try{return dr.call(t)}catch{}try{return t+""}catch{}}return""}var br=$r,wr=fr,yr=gr,Sr=wn,Er=br,Tr=/[\\^$.*+?()[\]{}|]/g,Or=/^\[object .+?Constructor\]$/,Ar=Function.prototype,Cr=Object.prototype,Pr=Ar.toString,Dr=Cr.hasOwnProperty,Lr=RegExp("^"+Pr.call(Dr).replace(Tr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ir(t){if(!Sr(t)||yr(t))return!1;var e=wr(t)?Lr:Or;return e.test(Er(t))}var Mr=Ir;function jr(t,e){return t==null?void 0:t[e]}var kr=jr,Fr=Mr,Ur=kr;function xr(t,e){var a=Ur(t,e);return Fr(a)?a:void 0}var Dt=xr,Rr=Dt,Br=Rr(Object,"create"),$t=Br,qt=$t;function Nr(){this.__data__=qt?qt(null):{},this.size=0}var zr=Nr;function Hr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Gr=Hr,qr=$t,Xr="__lodash_hash_undefined__",Vr=Object.prototype,Yr=Vr.hasOwnProperty;function Wr(t){var e=this.__data__;if(qr){var a=e[t];return a===Xr?void 0:a}return Yr.call(e,t)?e[t]:void 0}var Jr=Wr,Zr=$t,Qr=Object.prototype,Kr=Qr.hasOwnProperty;function ei(t){var e=this.__data__;return Zr?e[t]!==void 0:Kr.call(e,t)}var ti=ei,ni=$t,ai="__lodash_hash_undefined__";function ri(t,e){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=ni&&e===void 0?ai:e,this}var ii=ri,si=zr,oi=Gr,li=Jr,ui=ti,ci=ii;function Ze(t){var e=-1,a=t==null?0:t.length;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}Ze.prototype.clear=si;Ze.prototype.delete=oi;Ze.prototype.get=li;Ze.prototype.has=ui;Ze.prototype.set=ci;var fi=Ze;function pi(){this.__data__=[],this.size=0}var mi=pi;function hi(t,e){return t===e||t!==t&&e!==e}var vi=hi,gi=vi;function _i(t,e){for(var a=t.length;a--;)if(gi(t[a][0],e))return a;return-1}var bt=_i,di=bt,$i=Array.prototype,bi=$i.splice;function wi(t){var e=this.__data__,a=di(e,t);if(a<0)return!1;var n=e.length-1;return a==n?e.pop():bi.call(e,a,1),--this.size,!0}var yi=wi,Si=bt;function Ei(t){var e=this.__data__,a=Si(e,t);return a<0?void 0:e[a][1]}var Ti=Ei,Oi=bt;function Ai(t){return Oi(this.__data__,t)>-1}var Ci=Ai,Pi=bt;function Di(t,e){var a=this.__data__,n=Pi(a,t);return n<0?(++this.size,a.push([t,e])):a[n][1]=e,this}var Li=Di,Ii=mi,Mi=yi,ji=Ti,ki=Ci,Fi=Li;function Qe(t){var e=-1,a=t==null?0:t.length;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}Qe.prototype.clear=Ii;Qe.prototype.delete=Mi;Qe.prototype.get=ji;Qe.prototype.has=ki;Qe.prototype.set=Fi;var Ui=Qe,xi=Dt,Ri=dt,Bi=xi(Ri,"Map"),Ni=Bi,Xt=fi,zi=Ui,Hi=Ni;function Gi(){this.size=0,this.__data__={hash:new Xt,map:new(Hi||zi),string:new Xt}}var qi=Gi;function Xi(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Vi=Xi,Yi=Vi;function Wi(t,e){var a=t.__data__;return Yi(e)?a[typeof e=="string"?"string":"hash"]:a.map}var wt=Wi,Ji=wt;function Zi(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e}var Qi=Zi,Ki=wt;function es(t){return Ki(this,t).get(t)}var ts=es,ns=wt;function as(t){return ns(this,t).has(t)}var rs=as,is=wt;function ss(t,e){var a=is(this,t),n=a.size;return a.set(t,e),this.size+=a.size==n?0:1,this}var os=ss,ls=qi,us=Qi,cs=ts,fs=rs,ps=os;function Ke(t){var e=-1,a=t==null?0:t.length;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}Ke.prototype.clear=ls;Ke.prototype.delete=us;Ke.prototype.get=cs;Ke.prototype.has=fs;Ke.prototype.set=ps;var ms=Ke,hs="__lodash_hash_undefined__";function vs(t){return this.__data__.set(t,hs),this}var gs=vs;function _s(t){return this.__data__.has(t)}var ds=_s,$s=ms,bs=gs,ws=ds;function vt(t){var e=-1,a=t==null?0:t.length;for(this.__data__=new $s;++e<a;)this.add(t[e])}vt.prototype.add=vt.prototype.push=bs;vt.prototype.has=ws;var ys=vt;function Ss(t,e,a,n){for(var i=t.length,r=a+(n?1:-1);n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}var Es=Ss;function Ts(t){return t!==t}var Os=Ts;function As(t,e,a){for(var n=a-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Cs=As,Ps=Es,Ds=Os,Ls=Cs;function Is(t,e,a){return e===e?Ls(t,e,a):Ps(t,Ds,a)}var Ms=Is,js=Ms;function ks(t,e){var a=t==null?0:t.length;return!!a&&js(t,e,0)>-1}var Fs=ks;function Us(t,e,a){for(var n=-1,i=t==null?0:t.length;++n<i;)if(a(e,t[n]))return!0;return!1}var xs=Us;function Rs(t,e){return t.has(e)}var Bs=Rs,Ns=Dt,zs=dt,Hs=Ns(zs,"Set"),Gs=Hs;function qs(){}var Xs=qs;function Vs(t){var e=-1,a=Array(t.size);return t.forEach(function(n){a[++e]=n}),a}var yn=Vs,Tt=Gs,Ys=Xs,Ws=yn,Js=1/0,Zs=Tt&&1/Ws(new Tt([,-0]))[1]==Js?function(t){return new Tt(t)}:Ys,Qs=Zs,Ks=ys,eo=Fs,to=xs,no=Bs,ao=Qs,ro=yn,io=200;function so(t,e,a){var n=-1,i=eo,r=t.length,l=!0,s=[],o=s;if(a)l=!1,i=to;else if(r>=io){var u=e?null:ao(t);if(u)return ro(u);l=!1,i=no,o=new Ks}else o=e?[]:s;e:for(;++n<r;){var f=t[n],c=e?e(f):f;if(f=a||f!==0?f:0,l&&c===c){for(var g=o.length;g--;)if(o[g]===c)continue e;e&&o.push(c),s.push(f)}else i(o,c,a)||(o!==s&&o.push(c),s.push(f))}return s}var oo=so,lo=oo;function uo(t){return t&&t.length?lo(t):[]}var co=uo;const fo=function(){var t={},e=-1,a,n,i,r,l,s,o=12,u=5003,f,c=o,g,m=1<<o,h=[],p=[],_=u,b=0,S=!1,v,w,W,q=0,te=0,ue=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],ie,X=[],V=t.LZWEncoder=function(J,x,y,B){a=J,n=x,i=y,r=Math.max(2,B)},oe=function(J,x){X[ie++]=J,ie>=254&&Pe(x)},de=function(J){Me(_),b=w+2,S=!0,Te(w,J)},Me=function(J){for(var x=0;x<J;++x)h[x]=-1},ne=t.compress=function(J,x){var y,B,se,K,$e,ae,j;for(v=J,S=!1,f=v,g=De(f),w=1<<J-1,W=w+1,b=w+2,ie=0,K=je(),j=0,y=_;y<65536;y*=2)++j;j=8-j,ae=_,Me(ae),Te(w,x);e:for(;(se=je())!=e;){if(y=(se<<c)+K,B=se<<j^K,h[B]==y){K=p[B];continue}else if(h[B]>=0){$e=ae-B,B===0&&($e=1);do if((B-=$e)<0&&(B+=ae),h[B]==y){K=p[B];continue e}while(h[B]>=0)}Te(K,x),K=se,b<m?(p[B]=b++,h[B]=y):de(x)}Te(K,x),Te(W,x)};t.encode=function(J){J.writeByte(r),l=a*n,s=0,ne(r+1,J),J.writeByte(0)};var Pe=function(J){ie>0&&(J.writeByte(ie),J.writeBytes(X,0,ie),ie=0)},De=function(J){return(1<<J)-1},je=function(){if(l===0)return e;--l;var J=i[s++];return J&255},Te=function(J,x){for(q&=ue[te],te>0?q|=J<<te:q=J,te+=f;te>=8;)oe(q&255,x),q>>=8,te-=8;if((b>g||S)&&(S?(g=De(f=v),S=!1):(++f,f==c?g=m:g=De(f))),J==W){for(;te>0;)oe(q&255,x),q>>=8,te-=8;Pe(x)}};return V.apply(this,arguments),t},po=function(){var t={},e=256,a=499,n=491,i=487,r=503,l=3*r,s=e-1,o=4,u=100,f=16,c=1<<f,g=10,m=10,h=c>>m,p=c<<g-m,_=e>>3,b=6,S=1<<b,v=_*S,w=30,W=10,q=1<<W,te,ue=8,ie=1<<ue,X=W+ue,V=1<<X,oe,de,Me,ne,Pe=[],De=[],je=[],Te=[],ce=t.NeuQuant=function(j,R,Z){var z,H;for(oe=j,de=R,Me=Z,ne=new Array(e),z=0;z<e;z++)ne[z]=new Array(4),H=ne[z],H[0]=H[1]=H[2]=(z<<o+8)/e,je[z]=c/e,De[z]=0},J=function(){for(var j=[],R=new Array(e),Z=0;Z<e;Z++)R[ne[Z][3]]=Z;for(var z=0,H=0;H<e;H++){var A=R[H];j[z++]=ne[A][0],j[z++]=ne[A][1],j[z++]=ne[A][2]}return j},x=function(){var j,R,Z,z,H,A,k,Y;for(k=0,Y=0,j=0;j<e;j++){for(H=ne[j],Z=j,z=H[1],R=j+1;R<e;R++)A=ne[R],A[1]<z&&(Z=R,z=A[1]);if(A=ne[Z],j!=Z&&(R=A[0],A[0]=H[0],H[0]=R,R=A[1],A[1]=H[1],H[1]=R,R=A[2],A[2]=H[2],H[2]=R,R=A[3],A[3]=H[3],H[3]=R),z!=k){for(Pe[k]=Y+j>>1,R=k+1;R<z;R++)Pe[R]=j;k=z,Y=j}}for(Pe[k]=Y+s>>1,R=k+1;R<256;R++)Pe[R]=s},y=function(){var j,R,Z,z,H,A,k,Y,Q,le,Ae,re,ye,It;for(de<l&&(Me=1),te=30+(Me-1)/3,re=oe,ye=0,It=de,Ae=de/(3*Me),le=Ae/u|0,Y=q,A=v,k=A>>b,k<=1&&(k=0),j=0;j<k;j++)Te[j]=Y*((k*k-j*j)*ie/(k*k));for(de<l?Q=3:de%a!==0?Q=3*a:de%n!==0?Q=3*n:de%i!==0?Q=3*i:Q=3*r,j=0;j<Ae;)if(Z=(re[ye+0]&255)<<o,z=(re[ye+1]&255)<<o,H=(re[ye+2]&255)<<o,R=$e(Z,z,H),K(Y,R,Z,z,H),k!==0&&se(k,R,Z,z,H),ye+=Q,ye>=It&&(ye-=de),j++,le===0&&(le=1),j%le===0)for(Y-=Y/te,A-=A/w,k=A>>b,k<=1&&(k=0),R=0;R<k;R++)Te[R]=Y*((k*k-R*R)*ie/(k*k))};t.map=function(j,R,Z){var z,H,A,k,Y,Q,le;for(Y=1e3,le=-1,z=Pe[R],H=z-1;z<e||H>=0;)z<e&&(Q=ne[z],A=Q[1]-R,A>=Y?z=e:(z++,A<0&&(A=-A),k=Q[0]-j,k<0&&(k=-k),A+=k,A<Y&&(k=Q[2]-Z,k<0&&(k=-k),A+=k,A<Y&&(Y=A,le=Q[3])))),H>=0&&(Q=ne[H],A=R-Q[1],A>=Y?H=-1:(H--,A<0&&(A=-A),k=Q[0]-j,k<0&&(k=-k),A+=k,A<Y&&(k=Q[2]-Z,k<0&&(k=-k),A+=k,A<Y&&(Y=A,le=Q[3]))));return le},t.process=function(){return y(),B(),x(),J()};var B=function(){var j;for(j=0;j<e;j++)ne[j][0]>>=o,ne[j][1]>>=o,ne[j][2]>>=o,ne[j][3]=j},se=function(j,R,Z,z,H){var A,k,Y,Q,le,Ae,re;for(Y=R-j,Y<-1&&(Y=-1),Q=R+j,Q>e&&(Q=e),A=R+1,k=R-1,Ae=1;A<Q||k>Y;){if(le=Te[Ae++],A<Q){re=ne[A++];try{re[0]-=le*(re[0]-Z)/V,re[1]-=le*(re[1]-z)/V,re[2]-=le*(re[2]-H)/V}catch{}}if(k>Y){re=ne[k--];try{re[0]-=le*(re[0]-Z)/V,re[1]-=le*(re[1]-z)/V,re[2]-=le*(re[2]-H)/V}catch{}}}},K=function(j,R,Z,z,H){var A=ne[R];A[0]-=j*(A[0]-Z)/q,A[1]-=j*(A[1]-z)/q,A[2]-=j*(A[2]-H)/q},$e=function(j,R,Z){var z,H,A,k,Y,Q,le,Ae,re,ye;for(Ae=~(1<<31),re=Ae,Q=-1,le=Q,z=0;z<e;z++)ye=ne[z],H=ye[0]-j,H<0&&(H=-H),A=ye[1]-R,A<0&&(A=-A),H+=A,A=ye[2]-Z,A<0&&(A=-A),H+=A,H<Ae&&(Ae=H,Q=z),k=H-(De[z]>>f-o),k<re&&(re=k,le=z),Y=je[z]>>m,je[z]-=Y,De[z]+=Y<<g;return je[Q]+=h,De[Q]-=p,le};return ce.apply(this,arguments),t},mo=function(){for(var t=0,e={};t<256;t++)e[t]=String.fromCharCode(t);function a(){this.bin=[]}a.prototype.getData=function(){for(var x="",y=this.bin.length,B=0;B<y;B++)x+=e[this.bin[B]];return x},a.prototype.writeByte=function(x){this.bin.push(x)},a.prototype.writeUTFBytes=function(x){for(var y=x.length,B=0;B<y;B++)this.writeByte(x.charCodeAt(B))},a.prototype.writeBytes=function(x,y,B){for(var se=B||x.length,K=y||0;K<se;K++)this.writeByte(x[K])};var n={},i,r,l=null,s,o=-1,u=0,f=!1,c,g,m,h,p,_,b=[],S=7,v=-1,w=!1,W=!0,q=!1,te=10,ue="Generated by jsgif (https://github.com/antimatter15/jsgif/)";n.setDelay=function(y){u=Math.round(y/10)},n.setDispose=function(y){y>=0&&(v=y)},n.setRepeat=function(y){y>=0&&(o=y)},n.setTransparent=function(y){l=y},n.setComment=function(y){ue=y},n.addFrame=function(y,B){if(y===null||!f||c===null)throw new Error("Please call start method before calling addFrame");var se=!0;try{B?y instanceof ImageData?(g=y.data,(!sizeset||i!=y.width||r!=y.height)&&X(y.width,y.height)):y instanceof Uint8ClampedArray?y.length==i*r*4?g=y:(console.log("Please set the correct size: ImageData length mismatch"),se=!1):(console.log("Please provide correct input"),se=!1):(g=y.getImageData(0,0,y.canvas.width,y.canvas.height).data,q||X(y.canvas.width,y.canvas.height)),de(),V(),W&&(De(),Te(),o>=0&&je()),Me(),ue!==""&&ne(),Pe(),W||Te(),J(),W=!1}catch{se=!1}return se},n.download=function(y){if(c===null||w==!1)console.log("Please call start method and add frames and call finish method before calling download");else{y=y!==void 0?y.endsWith(".gif")?y:y+".gif":"download.gif";var B=document.createElement("a");B.download=y,B.href=URL.createObjectURL(new Blob([new Uint8Array(c.bin)],{type:"image/gif"})),B.click()}},n.finish=function(){if(!f)return!1;var y=!0;f=!1;try{c.writeByte(59),w=!0}catch{y=!1}return y};var ie=function(){s=0,g=null,m=null,h=null,_=null,w=!1,W=!0};n.setFrameRate=function(y){y!=15&&(u=Math.round(100/y))},n.setQuality=function(y){y<1&&(y=1),te=y};var X=n.setSize=function(y,B){f&&!W||(i=y,r=B,i<1&&(i=320),r<1&&(r=240),q=!0)};n.start=function(){ie();var y=!0;w=!1,c=new a;try{c.writeUTFBytes("GIF89a")}catch{y=!1}return f=y},n.cont=function(){ie();var y=!0;return w=!1,c=new a,f=y};var V=function(){var y=m.length,B=y/3;h=[];var se=new po(m,y,te);_=se.process();for(var K=0,$e=0;$e<B;$e++){var ae=se.map(m[K++]&255,m[K++]&255,m[K++]&255);b[ae]=!0,h[$e]=ae}m=null,p=8,S=7,l!==null&&(s=oe(l))},oe=function(y){if(_===null)return-1;for(var B=(y&16711680)>>16,se=(y&65280)>>8,K=y&255,$e=0,ae=256*256*256,j=_.length,R=0;R<j;){var Z=B-(_[R++]&255),z=se-(_[R++]&255),H=K-(_[R]&255),A=Z*Z+z*z+H*H,k=R/3;b[k]&&A<ae&&(ae=A,$e=k),R++}return $e},de=function(){var y=i,B=r;m=[];for(var se=g,K=0,$e=0;$e<B;$e++)for(var ae=0;ae<y;ae++){var j=$e*y*4+ae*4;m[K++]=se[j],m[K++]=se[j+1],m[K++]=se[j+2]}},Me=function(){c.writeByte(33),c.writeByte(249),c.writeByte(4);var y,B;l===null?(y=0,B=0):(y=1,B=2),v>=0&&(B=v&7),B<<=2,c.writeByte(0|B|0|y),ce(u),c.writeByte(s),c.writeByte(0)},ne=function(){c.writeByte(33),c.writeByte(254),c.writeByte(ue.length),c.writeUTFBytes(ue),c.writeByte(0)},Pe=function(){c.writeByte(44),ce(0),ce(0),ce(i),ce(r),W?c.writeByte(0):c.writeByte(128|S)},De=function(){ce(i),ce(r),c.writeByte(240|S),c.writeByte(0),c.writeByte(0)},je=function(){c.writeByte(33),c.writeByte(255),c.writeByte(11),c.writeUTFBytes("NETSCAPE2.0"),c.writeByte(3),c.writeByte(1),ce(o),c.writeByte(0)},Te=function(){c.writeBytes(_);for(var y=3*256-_.length,B=0;B<y;B++)c.writeByte(0)},ce=function(y){c.writeByte(y&255),c.writeByte(y>>8&255)},J=function(){var y=new fo(i,r,h,p);y.encode(c)};return n.stream=function(){return c},n.setProperties=function(y,B){f=y,W=B},n};class ho{constructor(e){Se(this,"loadingUrl",null);Se(this,"url",null);Se(this,"texture",null);Se(this,"unit",0);this.gl=e}async loadImage(e){if(e===this.url)return;this.loadingUrl=e;const n=await(await fetch(e)).blob(),i=await createImageBitmap(n);if(this.loadingUrl!==e)return;const{gl:r}=this;this.texture&&r.deleteTexture(this.texture);const l=r.createTexture();if(!l)throw new Error("Failed to create texture");r.activeTexture(r.TEXTURE0+this.unit),r.bindTexture(r.TEXTURE_2D,l),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),this.texture=l,this.url=e}destroy(){this.texture&&this.gl.deleteTexture(this.texture)}}const Fe={a_position:0,a_texCoords:1,a_normal:2},Vt={default:{vertex:`#version 300 es

layout(location = ${Fe.a_position}) in vec3 a_position;
layout(location = ${Fe.a_texCoords}) in vec2 a_texCoords;
layout(location = ${Fe.a_normal}) in vec3 a_normal;

uniform mat4 u_model;
uniform mat4 u_view;
uniform mat4 u_projection;

out vec2 v_texCoords;
out vec3 v_normal;
out vec3 v_position;

void main() {
  mat4 modelView = u_view * u_model;
  v_position = vec3(modelView * vec4(a_position, 1.0));
  gl_Position = u_projection * vec4(v_position, 1.0);
  // flip y coordinate because readPixels() will invert the image again
  gl_Position.y *= -1.0;
  v_texCoords = a_texCoords;
  v_normal = (transpose(inverse(modelView)) * vec4(a_normal, 0)).xyz;
}
    `,fragment:`#version 300 es
precision highp float;

in vec2 v_texCoords;
in vec3 v_normal;
in vec3 v_position;

struct Material {
  sampler2D diffuse;
  vec3 specular;
  float shininess;
};

struct DirectionalLight {
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  vec3 direction;
};

struct PointLight {
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  vec3 position;
  float attenuation1;
  float attenuation2;
};

struct SpotLight {
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  vec3 position;
  vec3 direction;
  float innerCos;
  float outerCos;
  float attenuation1;
  float attenuation2;
};

uniform Material u_material;
uniform DirectionalLight u_directionalLight;
uniform PointLight u_pointLight;
uniform SpotLight u_spotLight;

out vec4 outColor;

void main() {
  vec3 texel = texture(u_material.diffuse, v_texCoords).xyz;
  vec3 color = vec3(0.0, 0.0, 0.0);
  // front facing is actually the back face since we flipped y-axis in the vertex shader
  vec3 normal = normalize(v_normal) * (1.0 - 2.0 * float(gl_FrontFacing));
  vec3 fragToCamera = normalize(-v_position);

  color += u_directionalLight.ambient * texel;

  vec3 directionalDir = normalize(-u_directionalLight.direction);
  float directionalDiff = max(dot(directionalDir, normal), 0.0);
  color += u_directionalLight.diffuse * texel * directionalDiff;

  vec3 directionalHalf = normalize(directionalDir + fragToCamera);
  float directionalSpec = pow(max(dot(directionalHalf, normal), 0.0), u_material.shininess);
  color += u_directionalLight.specular * u_material.specular * directionalSpec;

  float pointDist = length(u_pointLight.position - v_position);
  float pointAtten = 1.0 / (1.0 + u_pointLight.attenuation1 * pointDist + u_pointLight.attenuation2 * pointDist * pointDist);
  color += u_pointLight.ambient * texel * pointAtten;

  vec3 pointDir = normalize(u_pointLight.position - v_position);
  float pointDiff = max(dot(pointDir, normal), 0.0);
  color += u_pointLight.diffuse * texel * pointDiff * pointAtten;

  vec3 pointHalf = normalize(pointDir + fragToCamera);
  float pointSpec = pow(max(dot(pointHalf, normal), 0.0), u_material.shininess);
  color += u_pointLight.specular * u_material.specular * pointSpec * pointAtten;

  float spotDist = length(u_spotLight.position - v_position);
  float spotAtten = 1.0 / (1.0 + u_spotLight.attenuation1 * spotDist + u_spotLight.attenuation2 * spotDist * spotDist);
  vec3 spotDir = normalize(u_spotLight.position - v_position);
  float spotCos = dot(normalize(-u_spotLight.direction), spotDir);
  float spotIntensity = smoothstep(u_spotLight.outerCos, u_spotLight.innerCos, spotCos);
  color += u_spotLight.ambient * texel * spotAtten * spotIntensity;

  float spotDiff = max(dot(spotDir, normal), 0.0);
  color += u_spotLight.diffuse * texel * spotDiff * spotAtten * spotIntensity;

  vec3 spotHalf = normalize(spotDir + fragToCamera);
  float spotSpec = pow(max(dot(spotHalf, normal), 0.0), u_material.shininess);
  color += u_spotLight.specular * u_material.specular * spotSpec * spotAtten * spotIntensity;

  outColor = vec4(color, 1.0);
}
    `}};class vo{constructor(e){Se(this,"programs",{});this.gl=e}createProgram(e){let a=this.programs[e];return a||(a=this.programs[e]={program:go(this.gl,Vt[e].vertex,Vt[e].fragment),uniformLocations:{}}),a}destroy(){for(const e of Object.values(this.programs))this.gl.deleteProgram(e.program)}}function Sn(t,e,a){for(const[n,i]of Object.entries(a)){n in e.uniformLocations||(e.uniformLocations[n]=t.getUniformLocation(e.program,n));const r=e.uniformLocations[n];n==="u_image"&&typeof i=="number"?t.uniform1i(r,i):Array.isArray(i)?i.length===2?t.uniform2fv(r,i):i.length===3?t.uniform3fv(r,i):i.length===4?t.uniform4fv(r,i):i.length===9?t.uniformMatrix3fv(r,!1,i):i.length===16&&t.uniformMatrix4fv(r,!1,i):typeof i=="number"?t.uniform1f(r,i):typeof i=="boolean"&&t.uniform1i(r,i?1:0)}}function go(t,e,a){const n=Yt(t,t.VERTEX_SHADER,e);let i;try{i=Yt(t,t.FRAGMENT_SHADER,a)}catch(l){throw t.deleteShader(n),l}const r=t.createProgram();if(r===null)throw t.deleteShader(i),t.deleteShader(n),new Error("Failed to create program");if(t.attachShader(r,n),t.attachShader(r,i),t.linkProgram(r),t.detachShader(r,i),t.detachShader(r,n),t.deleteShader(i),t.deleteShader(n),!t.getProgramParameter(r,t.LINK_STATUS)){const l=t.getProgramInfoLog(r);throw t.deleteProgram(r),new Error(`Failed to link program: ${l}`)}return r}function Yt(t,e,a){const n=t.createShader(e);if(n===null)throw new Error(`Failed to create shader: ${e}`);if(t.shaderSource(n,a),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){const i=t.getShaderInfoLog(n);throw t.deleteShader(n),new Error(`Failed to compile shader: ${i}`)}return n}function _o(t,e,a){t.clear(t.COLOR_BUFFER_BIT);let n,i;for(const r of a){n!==r.program&&(t.useProgram(r.program.program),n=r.program),i!==r.geometry&&(t.bindVertexArray(r.geometry.vao),i=r.geometry);const l=r.getUniforms(e);Sn(t,r.program,l),t.drawArrays(r.geometry.drawMode,0,r.geometry.drawCount)}}function $o(t,e){const a=t.createVertexArray();if(a===null)throw new Error("Failed to create vertex array");const n=t.createBuffer();if(!n)throw t.deleteVertexArray(a),new Error("Failed to create buffer");return t.bindVertexArray(a),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),t.enableVertexAttribArray(Fe.a_position),t.vertexAttribPointer(Fe.a_position,3,t.FLOAT,!1,8*4,0),t.enableVertexAttribArray(Fe.a_texCoords),t.vertexAttribPointer(Fe.a_texCoords,2,t.FLOAT,!1,8*4,3*4),t.enableVertexAttribArray(Fe.a_normal),t.vertexAttribPointer(Fe.a_normal,3,t.FLOAT,!1,8*4,5*4),t.bindVertexArray(null),{vao:a,vbo:n,drawMode:t.TRIANGLE_STRIP,drawCount:4}}const bo={full:[-1,-1,0,0,1,0,0,1,1,-1,0,1,1,0,0,1,-1,1,0,0,0,0,0,1,1,1,0,1,0,0,0,1],sudoku:[-3,-3,0,-1,2,0,0,1,3,-3,0,2,2,0,0,1,-3,3,0,-1,-1,0,0,1,3,3,0,2,-1,0,0,1],tower:[-1,-3,0,0,2,0,0,1,1,-3,0,1,2,0,0,1,-1,3,0,0,-1,0,0,1,1,3,0,1,-1,0,0,1],topHalf:[-1,0,0,0,.5,0,0,1,1,0,0,1,.5,0,0,1,-1,1,0,0,0,0,0,1,1,1,0,1,0,0,0,1],bottomHalf:[-1,-1,0,0,1,0,0,1,1,-1,0,1,1,0,0,1,-1,0,0,0,.5,0,0,1,1,0,0,1,.5,0,0,1],leftHalf:[-1,-1,0,0,1,0,0,1,0,-1,0,.5,1,0,0,1,-1,1,0,0,0,0,0,1,0,1,0,.5,0,0,0,1],rightHalf:[0,-1,0,.5,1,0,0,1,1,-1,0,1,1,0,0,1,0,1,0,.5,0,0,0,1,1,1,0,1,0,0,0,1]};class wo{constructor(e){Se(this,"geometries",{});this.gl=e}createGeometry(e){let a=this.geometries[e];return a||(a=this.geometries[e]=$o(this.gl,bo[e])),a}destroy(){for(const e of Object.values(this.geometries))this.gl.deleteVertexArray(e.vao),this.gl.deleteBuffer(e.vbo)}}class yo{constructor(e){Se(this,"gl");Se(this,"programFactory");Se(this,"geometryFactory");Se(this,"texture");Se(this,"queue",[]);Se(this,"animationFrame",null);this.canvas=e;const a=e.getContext("webgl2");if(!a)throw new Error("webgl2 is not supported");this.gl=a,this.programFactory=new vo(this.gl),this.geometryFactory=new wo(this.gl),this.texture=new ho(this.gl)}animate(e,a){return new Promise((n,i)=>{const r=new mo;if(r.setRepeat(0),r.setDelay(e.output.delayMs),r.setSize(e.output.width,e.output.height),!r.start()){i("Failed to start gif encoder");return}this.queue.push({type:"gif",request:e,resolve:n,reject:i,frame:0,sprites:Bt(this.programFactory,this.geometryFactory,e.animation),callback:a,encoder:r}),this.animationFrame===null&&(this.animationFrame=requestAnimationFrame(()=>this.processLoop()))})}renderFrame(e,a){return new Promise((n,i)=>{this.queue.push({type:"frame",request:e,resolve:n,reject:i,frame:a,sprites:Bt(this.programFactory,this.geometryFactory,e.animation)}),this.animationFrame===null&&(this.animationFrame=requestAnimationFrame(()=>this.processLoop()))})}async processLoop(){if(this.queue.length===0){this.animationFrame=null;return}if(this.queue.length>1){for(let h=0;h<this.queue.length-1;++h)this.queue[h].reject(new Error("Request cancelled"));this.queue.splice(0,this.queue.length-1)}const{type:e,request:a,resolve:n,sprites:i,frame:r}=this.queue[0],{image:l,output:s,camera:o,projection:u,material:f,directionalLight:c,pointLight:g,spotLight:m}=a;if(e==="frame"||e==="gif"&&this.queue[0].frame===0){await this.texture.loadImage(l.url);const{width:h,height:p,clear:_}=s;this.canvas.width=h,this.canvas.height=p,this.gl.viewport(0,0,h,p),this.gl.clearColor(..._,1),this.gl.activeTexture(this.gl.TEXTURE0+this.texture.unit),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture.texture);const b=be();qn(b,o.position,o.lookAt,o.up);const S=be();u.perspective?Xn(S,u.left,u.right,u.bottom,u.top,u.near,u.far):Vn(S,u.left,u.right,u.bottom,u.top,u.near,u.far);const v={u_view:b,u_projection:S,"u_material.specular":f.specular,"u_material.shininess":f.shininess,"u_directionalLight.ambient":c.ambient,"u_directionalLight.diffuse":c.diffuse,"u_directionalLight.specular":c.specular,"u_directionalLight.direction":c.direction,"u_pointLight.ambient":g.ambient,"u_pointLight.diffuse":g.diffuse,"u_pointLight.specular":g.specular,"u_pointLight.position":g.position,"u_pointLight.attenuation1":g.attenuation1,"u_pointLight.attenuation2":g.attenuation2,"u_spotLight.ambient":m.ambient,"u_spotLight.diffuse":m.diffuse,"u_spotLight.specular":m.specular,"u_spotLight.position":m.position,"u_spotLight.direction":m.direction,"u_spotLight.innerCos":Math.cos(ht(m.innerDegrees)),"u_spotLight.outerCos":Math.cos(ht(m.outerDegrees)),"u_spotLight.attenuation1":m.attenuation1,"u_spotLight.attenuation2":m.attenuation2};for(const w of co(i.map(W=>W.program)))this.gl.useProgram(w.program),Sn(this.gl,w,v)}if(_o(this.gl,r/a.output.totalFrames,i),e==="frame")n(),this.queue.shift(),this.animationFrame=null;else{const{encoder:h,callback:p}=this.queue[0];p(r);const _=new Uint8ClampedArray(this.gl.drawingBufferWidth*this.gl.drawingBufferHeight*4);if(this.gl.readPixels(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,this.gl.RGBA,this.gl.UNSIGNED_BYTE,_),h.addFrame(_,!0),h.setTransparent(16777215),r===s.totalFrames-1){h.finish();const b=h.stream().getData(),S="data:image/gif;base64,"+window.btoa(b);n({dataUri:S}),this.queue.shift(),this.animationFrame=null}else this.queue[0].frame+=1,this.animationFrame=requestAnimationFrame(()=>this.processLoop())}}destroy(){this.programFactory.destroy(),this.geometryFactory.destroy(),this.texture.destroy(),this.animationFrame!==null&&window.cancelAnimationFrame(this.animationFrame)}}const Re=function(){const{subscribe:t,update:e}=Pt({animations:St,current:St[0]}),a=r=>{e(l=>l.current===r||!l.animations.find(o=>o===r)?l:{animations:l.animations,current:r})};function n(r,l){e(({animations:s,current:o})=>{const u={...o,editOptions:o.editOptions.map(f=>f===r?{...r,value:l}:f)};return{animations:s.map(f=>f===o?u:f),current:u}})}function i(){e(({animations:r,current:l})=>{const s=St.find(o=>o.name===l.name);return{animations:r.map(o=>o===l?s:o),current:s}})}return{subscribe:t,changeCurrentAnimation:a,changeEditOptions:n,resetEditOptions:i}}();function Ge(t){let e=!0;const{subscribe:a,update:n}=Pt(void 0,l=>Re.subscribe(({current:s})=>{e&&l(s.defaultOptions[t])}));function i(l){n(s=>(e=!1,{...s,...l}))}function r(){n(()=>(e=!0,at(Re).current.defaultOptions[t]))}return{subscribe:a,change:i,reset:r}}const gt=Ge("image"),Ue=Ge("output"),Ye=Ge("camera"),Le=Ge("projection"),rt=Ge("material"),qe=Ge("directionalLight"),ke=Ge("pointLight"),Oe=Ge("spotLight"),Ct=xn([gt,Ue,Ye,Le,rt,qe,ke,Oe,Re],([t,e,a,n,i,r,l,s,o])=>({image:t,output:e,camera:a,projection:n,material:i,directionalLight:r,pointLight:l,spotLight:s,animation:o.current})),tt=function(){const t=Pt({animator:null,running:!1,frame:0}),{subscribe:e,update:a}=t;function n(l){a(s=>{var o;return(o=s.animator)==null||o.destroy(),{animator:new yo(l),running:!1,frame:0}})}function i(){const{animator:l}=at(t);return l?(a(s=>({...s,running:!0,frame:0})),l.animate(at(Ct),s=>a(o=>({...o,frame:s}))).finally(()=>{a(s=>({...s,running:!1}))})):Promise.reject("Animator has not been created")}function r(l){const{animator:s,frame:o}=at(t);if(!s)return Promise.reject("Animator has not been created");let u;typeof l>"u"?u=o:u=l;const f=at(Ct);return u>=f.output.totalFrames&&(u=f.output.totalFrames-1),a(c=>({...c,frame:u,running:!0})),s.renderFrame(f,u).finally(()=>{a(c=>({...c,running:!1}))})}return{subscribe:e,changeCanvas:n,animate:i,renderFrame:r}}();function So(t){let e,a,n,i,r,l,s,o,u,f,c,g;const m=t[3].default,h=On(m,t,t[2],null);return{c(){e=F("section"),a=F("header"),n=F("h2"),i=me(t[0]),r=I(),l=F("button"),s=me("Reset"),o=I(),u=F("div"),h&&h.c(),this.h()},l(p){e=U(p,"SECTION",{class:!0});var _=G(e);a=U(_,"HEADER",{class:!0});var b=G(a);n=U(b,"H2",{class:!0});var S=G(n);i=he(S,t[0]),S.forEach($),r=M(b),l=U(b,"BUTTON",{class:!0,type:!0});var v=G(l);s=he(v,"Reset"),v.forEach($),b.forEach($),o=M(_),u=U(_,"DIV",{class:!0});var w=G(u);h&&h.l(w),w.forEach($),_.forEach($),this.h()},h(){d(n,"class","section__heading svelte-1wqqw95"),d(l,"class","section__reset svelte-1wqqw95"),d(l,"type","button"),d(a,"class","section__header svelte-1wqqw95"),d(u,"class","section__content svelte-1wqqw95"),d(e,"class","section svelte-1wqqw95")},m(p,_){N(p,e,_),E(e,a),E(a,n),E(n,i),E(a,r),E(a,l),E(l,s),E(e,o),E(e,u),h&&h.m(u,null),f=!0,c||(g=Je(l,"click",t[4]),c=!0)},p(p,[_]){(!f||_&1)&&Be(i,p[0]),h&&h.p&&(!f||_&4)&&An(h,m,p,p[2],f?Pn(m,p[2],_,null):Cn(p[2]),null)},i(p){f||(T(h,p),f=!0)},o(p){O(h,p),f=!1},d(p){p&&$(e),h&&h.d(p),c=!1,g()}}}function Eo(t,e,a){let{$$slots:n={},$$scope:i}=e,{title:r=""}=e;const l=st(),s=()=>l("reset");return t.$$set=o=>{"title"in o&&a(0,r=o.title),"$$scope"in o&&a(2,i=o.$$scope)},[r,l,i,n,s]}class Ne extends ve{constructor(e){super(),ge(this,e,Eo,So,_e,{title:0})}}function To(t){let e,a,n,i,r,l,s,o;return{c(){e=F("label"),a=F("input"),n=I(),i=F("div"),r=F("img"),this.h()},l(u){e=U(u,"LABEL",{class:!0});var f=G(e);a=U(f,"INPUT",{class:!0,type:!0,accept:!0}),n=M(f),i=U(f,"DIV",{class:!0});var c=G(i);r=U(c,"IMG",{class:!0,src:!0,alt:!0}),c.forEach($),f.forEach($),this.h()},h(){d(a,"class","image__input svelte-1me35do"),d(a,"type","file"),d(a,"accept","image/*"),d(r,"class","image__preview svelte-1me35do"),Ve(r.src,l=t[0].url)||d(r,"src",l),d(r,"alt","source"),d(i,"class","image__container svelte-1me35do"),d(e,"class","image svelte-1me35do")},m(u,f){N(u,e,f),E(e,a),E(e,n),E(e,i),E(i,r),s||(o=Je(a,"input",t[1]),s=!0)},p(u,f){f&1&&!Ve(r.src,l=u[0].url)&&d(r,"src",l)},d(u){u&&$(e),s=!1,o()}}}function Oo(t){let e,a;return e=new Ne({props:{title:"Image",$$slots:{default:[To]},$$scope:{ctx:t}}}),e.$on("reset",gt.reset),{c(){C(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){D(e,n,i),a=!0},p(n,[i]){const r={};i&5&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){a||(T(e.$$.fragment,n),a=!0)},o(n){O(e.$$.fragment,n),a=!1},d(n){L(e,n)}}}function Ao(t,e,a){let n;Ee(t,gt,r=>a(0,n=r));function i(r){var o;const s=(o=r.target.files)==null?void 0:o[0];s&&gt.change({url:URL.createObjectURL(s)})}return[n,i]}class Co extends ve{constructor(e){super(),ge(this,e,Ao,Oo,_e,{})}}function Wt(t){let e,a,n,i,r,l;return{c(){e=F("label"),a=me(t[1]),n=I(),i=F("input"),this.h()},l(s){e=U(s,"LABEL",{class:!0});var o=G(e);a=he(o,t[1]),n=M(o),i=U(o,"INPUT",{class:!0,type:!0}),o.forEach($),this.h()},h(){d(i,"class","slider__text-input svelte-1h0gcvd"),d(i,"type","text"),i.value=t[0],d(e,"class","slider__label svelte-1h0gcvd")},m(s,o){N(s,e,o),E(e,a),E(e,n),E(e,i),r||(l=Je(i,"input",t[5]),r=!0)},p(s,o){o&2&&Be(a,s[1]),o&1&&i.value!==s[0]&&(i.value=s[0])},d(s){s&&$(e),r=!1,l()}}}function Po(t){let e,a,n,i,r=ut(t[2])+"",l,s,o,u,f,c,g=ut(t[3])+"",m,h,p,_=t[1]&&Wt(t);return{c(){e=F("div"),_&&_.c(),a=I(),n=F("div"),i=F("span"),l=me(r),s=I(),o=F("div"),u=F("input"),f=I(),c=F("span"),m=me(g),this.h()},l(b){e=U(b,"DIV",{class:!0});var S=G(e);_&&_.l(S),a=M(S),n=U(S,"DIV",{class:!0});var v=G(n);i=U(v,"SPAN",{class:!0});var w=G(i);l=he(w,r),w.forEach($),s=M(v),o=U(v,"DIV",{class:!0});var W=G(o);u=U(W,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),W.forEach($),f=M(v),c=U(v,"SPAN",{class:!0});var q=G(c);m=he(q,g),q.forEach($),v.forEach($),S.forEach($),this.h()},h(){d(i,"class","slider__range slider__range--min svelte-1h0gcvd"),d(u,"class","slider__input svelte-1h0gcvd"),d(u,"type","range"),d(u,"min",t[2]),d(u,"max",t[3]),d(u,"step",t[4]),u.value=t[0],d(o,"class","slider__input-container svelte-1h0gcvd"),d(c,"class","slider__range slider__range--max"),d(n,"class","slider__container svelte-1h0gcvd"),d(e,"class","slider")},m(b,S){N(b,e,S),_&&_.m(e,null),E(e,a),E(e,n),E(n,i),E(i,l),E(n,s),E(n,o),E(o,u),E(n,f),E(n,c),E(c,m),h||(p=Je(u,"input",t[5]),h=!0)},p(b,[S]){b[1]?_?_.p(b,S):(_=Wt(b),_.c(),_.m(e,a)):_&&(_.d(1),_=null),S&4&&r!==(r=ut(b[2])+"")&&Be(l,r),S&4&&d(u,"min",b[2]),S&8&&d(u,"max",b[3]),S&16&&d(u,"step",b[4]),S&1&&(u.value=b[0]),S&8&&g!==(g=ut(b[3])+"")&&Be(m,g)},i:He,o:He,d(b){b&&$(e),_&&_.d(),h=!1,p()}}}function ut(t){return t.toFixed(2).replace(/\.?0+$/,"")}function Do(t,e,a){const n=st();let{label:i=""}=e,{min:r=0}=e,{max:l=100}=e,{step:s=1}=e,{value:o=l<r?r:(l-r)/2}=e;function u(f){const c=f.target,g=parseFloat(c.value);Number.isNaN(g)||(a(0,o=g),n("input",{value:o}))}return t.$$set=f=>{"label"in f&&a(1,i=f.label),"min"in f&&a(2,r=f.min),"max"in f&&a(3,l=f.max),"step"in f&&a(4,s=f.step),"value"in f&&a(0,o=f.value)},[o,i,r,l,s,u]}class ee extends ve{constructor(e){super(),ge(this,e,Do,Po,_e,{label:1,min:2,max:3,step:4,value:0})}}function Lo(t){let e,a,n,i,r,l;return e=new ee({props:{label:`${t[0]}R`,min:0,max:1,step:.01,value:t[1][0]}}),e.$on("input",t[3]),n=new ee({props:{label:`${t[0]}G`,min:0,max:1,step:.01,value:t[1][1]}}),n.$on("input",t[4]),r=new ee({props:{label:`${t[0]}B`,min:0,max:1,step:.01,value:t[1][2]}}),r.$on("input",t[5]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment),i=I(),C(r.$$.fragment)},l(s){P(e.$$.fragment,s),a=M(s),P(n.$$.fragment,s),i=M(s),P(r.$$.fragment,s)},m(s,o){D(e,s,o),N(s,a,o),D(n,s,o),N(s,i,o),D(r,s,o),l=!0},p(s,[o]){const u={};o&1&&(u.label=`${s[0]}R`),o&2&&(u.value=s[1][0]),e.$set(u);const f={};o&1&&(f.label=`${s[0]}G`),o&2&&(f.value=s[1][1]),n.$set(f);const c={};o&1&&(c.label=`${s[0]}B`),o&2&&(c.value=s[1][2]),r.$set(c)},i(s){l||(T(e.$$.fragment,s),T(n.$$.fragment,s),T(r.$$.fragment,s),l=!0)},o(s){O(e.$$.fragment,s),O(n.$$.fragment,s),O(r.$$.fragment,s),l=!1},d(s){L(e,s),s&&$(a),L(n,s),s&&$(i),L(r,s)}}}function Io(t,e,a){let{label:n=""}=e,{value:i=[1,1,1]}=e;const r=st();function l(f,c){const g=[...i];g[f]=c,r("input",{value:g})}const s=f=>l(0,f.detail.value),o=f=>l(1,f.detail.value),u=f=>l(2,f.detail.value);return t.$$set=f=>{"label"in f&&a(0,n=f.label),"value"in f&&a(1,i=f.value)},[n,i,l,s,o,u]}class Ce extends ve{constructor(e){super(),ge(this,e,Io,Lo,_e,{label:0,value:1})}}function Mo(t){let e,a,n,i,r,l,s,o,u,f;return e=new ee({props:{label:"width",min:1,max:1024,step:1,value:t[0].width}}),e.$on("input",t[1]),n=new ee({props:{label:"height",min:1,max:1024,step:1,value:t[0].height}}),n.$on("input",t[2]),r=new ee({props:{label:"delayMs",min:20,max:1e3,step:10,value:t[0].delayMs}}),r.$on("input",t[3]),s=new ee({props:{label:"totalFrames",min:1,max:1e3,step:1,value:t[0].totalFrames}}),s.$on("input",t[4]),u=new Ce({props:{label:"clear",value:t[0].clear}}),u.$on("input",t[5]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment),i=I(),C(r.$$.fragment),l=I(),C(s.$$.fragment),o=I(),C(u.$$.fragment)},l(c){P(e.$$.fragment,c),a=M(c),P(n.$$.fragment,c),i=M(c),P(r.$$.fragment,c),l=M(c),P(s.$$.fragment,c),o=M(c),P(u.$$.fragment,c)},m(c,g){D(e,c,g),N(c,a,g),D(n,c,g),N(c,i,g),D(r,c,g),N(c,l,g),D(s,c,g),N(c,o,g),D(u,c,g),f=!0},p(c,g){const m={};g&1&&(m.value=c[0].width),e.$set(m);const h={};g&1&&(h.value=c[0].height),n.$set(h);const p={};g&1&&(p.value=c[0].delayMs),r.$set(p);const _={};g&1&&(_.value=c[0].totalFrames),s.$set(_);const b={};g&1&&(b.value=c[0].clear),u.$set(b)},i(c){f||(T(e.$$.fragment,c),T(n.$$.fragment,c),T(r.$$.fragment,c),T(s.$$.fragment,c),T(u.$$.fragment,c),f=!0)},o(c){O(e.$$.fragment,c),O(n.$$.fragment,c),O(r.$$.fragment,c),O(s.$$.fragment,c),O(u.$$.fragment,c),f=!1},d(c){L(e,c),c&&$(a),L(n,c),c&&$(i),L(r,c),c&&$(l),L(s,c),c&&$(o),L(u,c)}}}function jo(t){let e,a;return e=new Ne({props:{title:"Output",$$slots:{default:[Mo]},$$scope:{ctx:t}}}),e.$on("reset",Ue.reset),{c(){C(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){D(e,n,i),a=!0},p(n,[i]){const r={};i&65&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){a||(T(e.$$.fragment,n),a=!0)},o(n){O(e.$$.fragment,n),a=!1},d(n){L(e,n)}}}function ko(t,e,a){let n;return Ee(t,Ue,u=>a(0,n=u)),[n,u=>Ue.change({width:u.detail.value}),u=>Ue.change({height:u.detail.value}),u=>Ue.change({delayMs:u.detail.value}),u=>Ue.change({totalFrames:u.detail.value}),u=>Ue.change({clear:u.detail.value})]}class Fo extends ve{constructor(e){super(),ge(this,e,ko,jo,_e,{})}}function Uo(t){let e,a,n,i,r,l;return e=new ee({props:{label:`${t[0]}X`,min:-10,max:10,step:.1,value:t[1][0]}}),e.$on("input",t[3]),n=new ee({props:{label:`${t[0]}Y`,min:-10,max:10,step:.1,value:t[1][1]}}),n.$on("input",t[4]),r=new ee({props:{label:`${t[0]}Z`,min:-10,max:10,step:.1,value:t[1][2]}}),r.$on("input",t[5]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment),i=I(),C(r.$$.fragment)},l(s){P(e.$$.fragment,s),a=M(s),P(n.$$.fragment,s),i=M(s),P(r.$$.fragment,s)},m(s,o){D(e,s,o),N(s,a,o),D(n,s,o),N(s,i,o),D(r,s,o),l=!0},p(s,[o]){const u={};o&1&&(u.label=`${s[0]}X`),o&2&&(u.value=s[1][0]),e.$set(u);const f={};o&1&&(f.label=`${s[0]}Y`),o&2&&(f.value=s[1][1]),n.$set(f);const c={};o&1&&(c.label=`${s[0]}Z`),o&2&&(c.value=s[1][2]),r.$set(c)},i(s){l||(T(e.$$.fragment,s),T(n.$$.fragment,s),T(r.$$.fragment,s),l=!0)},o(s){O(e.$$.fragment,s),O(n.$$.fragment,s),O(r.$$.fragment,s),l=!1},d(s){L(e,s),s&&$(a),L(n,s),s&&$(i),L(r,s)}}}function xo(t,e,a){let{label:n=""}=e,{value:i=[0,0,-1]}=e;const r=st();function l(f,c){const g=[...i];g[f]=c,r("input",{value:g})}const s=f=>l(0,f.detail.value),o=f=>l(1,f.detail.value),u=f=>l(2,f.detail.value);return t.$$set=f=>{"label"in f&&a(0,n=f.label),"value"in f&&a(1,i=f.value)},[n,i,l,s,o,u]}class Xe extends ve{constructor(e){super(),ge(this,e,xo,Uo,_e,{label:0,value:1})}}function Ro(t){let e,a,n,i,r,l;return e=new Xe({props:{label:"position",value:t[0].position}}),e.$on("input",t[1]),n=new Xe({props:{label:"lookAt",value:t[0].lookAt}}),n.$on("input",t[2]),r=new Xe({props:{label:"up",value:t[0].up}}),r.$on("input",t[3]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment),i=I(),C(r.$$.fragment)},l(s){P(e.$$.fragment,s),a=M(s),P(n.$$.fragment,s),i=M(s),P(r.$$.fragment,s)},m(s,o){D(e,s,o),N(s,a,o),D(n,s,o),N(s,i,o),D(r,s,o),l=!0},p(s,o){const u={};o&1&&(u.value=s[0].position),e.$set(u);const f={};o&1&&(f.value=s[0].lookAt),n.$set(f);const c={};o&1&&(c.value=s[0].up),r.$set(c)},i(s){l||(T(e.$$.fragment,s),T(n.$$.fragment,s),T(r.$$.fragment,s),l=!0)},o(s){O(e.$$.fragment,s),O(n.$$.fragment,s),O(r.$$.fragment,s),l=!1},d(s){L(e,s),s&&$(a),L(n,s),s&&$(i),L(r,s)}}}function Bo(t){let e,a;return e=new Ne({props:{title:"Camera",$$slots:{default:[Ro]},$$scope:{ctx:t}}}),e.$on("reset",Ye.reset),{c(){C(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){D(e,n,i),a=!0},p(n,[i]){const r={};i&17&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){a||(T(e.$$.fragment,n),a=!0)},o(n){O(e.$$.fragment,n),a=!1},d(n){L(e,n)}}}function No(t,e,a){let n;return Ee(t,Ye,s=>a(0,n=s)),[n,s=>Ye.change({position:s.detail.value}),s=>Ye.change({lookAt:s.detail.value}),s=>Ye.change({up:s.detail.value})]}class zo extends ve{constructor(e){super(),ge(this,e,No,Bo,_e,{})}}function Ho(t){let e,a,n,i,r,l,s;return{c(){e=F("div"),a=me(t[1]),n=I(),i=F("label"),r=F("input"),this.h()},l(o){e=U(o,"DIV",{class:!0});var u=G(e);a=he(u,t[1]),n=M(u),i=U(u,"LABEL",{class:!0});var f=G(i);r=U(f,"INPUT",{class:!0,type:!0}),f.forEach($),u.forEach($),this.h()},h(){d(r,"class","toggle__checkbox svelte-1j9rfin"),d(r,"type","checkbox"),r.checked=t[0],d(i,"class","toggle__label svelte-1j9rfin"),ze(i,"toggle__label--active",t[0]),d(e,"class","toggle svelte-1j9rfin")},m(o,u){N(o,e,u),E(e,a),E(e,n),E(e,i),E(i,r),l||(s=Je(r,"change",t[2]),l=!0)},p(o,[u]){u&2&&Be(a,o[1]),u&1&&(r.checked=o[0]),u&1&&ze(i,"toggle__label--active",o[0])},i:He,o:He,d(o){o&&$(e),l=!1,s()}}}function Go(t,e,a){const n=st();let{label:i=""}=e,{value:r=!1}=e;function l(s){const o=s.target;a(0,r=Boolean(o.checked)),n("change",{value:r})}return t.$$set=s=>{"label"in s&&a(1,i=s.label),"value"in s&&a(0,r=s.value)},[r,i,l]}class Lt extends ve{constructor(e){super(),ge(this,e,Go,Ho,_e,{label:1,value:0})}}function qo(t){let e,a,n,i,r,l,s,o,u,f,c,g,m,h;return e=new Lt({props:{label:"perspective",value:t[0].perspective}}),e.$on("input",t[1]),n=new ee({props:{label:"left",min:-10,max:10,step:.1,value:t[0].left}}),n.$on("input",t[2]),r=new ee({props:{label:"right",min:-10,max:10,step:.1,value:t[0].right}}),r.$on("input",t[3]),s=new ee({props:{label:"bottom",min:-10,max:10,step:.1,value:t[0].bottom}}),s.$on("input",t[4]),u=new ee({props:{label:"top",min:-10,max:10,step:.1,value:t[0].top}}),u.$on("input",t[5]),c=new ee({props:{label:"near",min:.1,max:10,step:.1,value:t[0].near}}),c.$on("input",t[6]),m=new ee({props:{label:"far",min:.1,max:10,step:.1,value:t[0].far}}),m.$on("input",t[7]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment),i=I(),C(r.$$.fragment),l=I(),C(s.$$.fragment),o=I(),C(u.$$.fragment),f=I(),C(c.$$.fragment),g=I(),C(m.$$.fragment)},l(p){P(e.$$.fragment,p),a=M(p),P(n.$$.fragment,p),i=M(p),P(r.$$.fragment,p),l=M(p),P(s.$$.fragment,p),o=M(p),P(u.$$.fragment,p),f=M(p),P(c.$$.fragment,p),g=M(p),P(m.$$.fragment,p)},m(p,_){D(e,p,_),N(p,a,_),D(n,p,_),N(p,i,_),D(r,p,_),N(p,l,_),D(s,p,_),N(p,o,_),D(u,p,_),N(p,f,_),D(c,p,_),N(p,g,_),D(m,p,_),h=!0},p(p,_){const b={};_&1&&(b.value=p[0].perspective),e.$set(b);const S={};_&1&&(S.value=p[0].left),n.$set(S);const v={};_&1&&(v.value=p[0].right),r.$set(v);const w={};_&1&&(w.value=p[0].bottom),s.$set(w);const W={};_&1&&(W.value=p[0].top),u.$set(W);const q={};_&1&&(q.value=p[0].near),c.$set(q);const te={};_&1&&(te.value=p[0].far),m.$set(te)},i(p){h||(T(e.$$.fragment,p),T(n.$$.fragment,p),T(r.$$.fragment,p),T(s.$$.fragment,p),T(u.$$.fragment,p),T(c.$$.fragment,p),T(m.$$.fragment,p),h=!0)},o(p){O(e.$$.fragment,p),O(n.$$.fragment,p),O(r.$$.fragment,p),O(s.$$.fragment,p),O(u.$$.fragment,p),O(c.$$.fragment,p),O(m.$$.fragment,p),h=!1},d(p){L(e,p),p&&$(a),L(n,p),p&&$(i),L(r,p),p&&$(l),L(s,p),p&&$(o),L(u,p),p&&$(f),L(c,p),p&&$(g),L(m,p)}}}function Xo(t){let e,a;return e=new Ne({props:{title:"Projection",$$slots:{default:[qo]},$$scope:{ctx:t}}}),e.$on("reset",Le.reset),{c(){C(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){D(e,n,i),a=!0},p(n,[i]){const r={};i&257&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){a||(T(e.$$.fragment,n),a=!0)},o(n){O(e.$$.fragment,n),a=!1},d(n){L(e,n)}}}function Vo(t,e,a){let n;return Ee(t,Le,c=>a(0,n=c)),[n,c=>Le.change({perspective:c.detail.value}),c=>Le.change({left:c.detail.value}),c=>Le.change({right:c.detail.value}),c=>Le.change({bottom:c.detail.value}),c=>Le.change({top:c.detail.value}),c=>Le.change({near:c.detail.value}),c=>Le.change({far:c.detail.value})]}class Yo extends ve{constructor(e){super(),ge(this,e,Vo,Xo,_e,{})}}function Wo(t){let e,a,n,i;return e=new Ce({props:{label:"specular",value:t[0].specular}}),e.$on("input",t[1]),n=new ee({props:{label:"shininess",min:0,max:100,step:.1,value:t[0].shininess}}),n.$on("input",t[2]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment)},l(r){P(e.$$.fragment,r),a=M(r),P(n.$$.fragment,r)},m(r,l){D(e,r,l),N(r,a,l),D(n,r,l),i=!0},p(r,l){const s={};l&1&&(s.value=r[0].specular),e.$set(s);const o={};l&1&&(o.value=r[0].shininess),n.$set(o)},i(r){i||(T(e.$$.fragment,r),T(n.$$.fragment,r),i=!0)},o(r){O(e.$$.fragment,r),O(n.$$.fragment,r),i=!1},d(r){L(e,r),r&&$(a),L(n,r)}}}function Jo(t){let e,a;return e=new Ne({props:{title:"Material",$$slots:{default:[Wo]},$$scope:{ctx:t}}}),e.$on("reset",rt.reset),{c(){C(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){D(e,n,i),a=!0},p(n,[i]){const r={};i&9&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){a||(T(e.$$.fragment,n),a=!0)},o(n){O(e.$$.fragment,n),a=!1},d(n){L(e,n)}}}function Zo(t,e,a){let n;return Ee(t,rt,l=>a(0,n=l)),[n,l=>rt.change({specular:l.detail.value}),l=>rt.change({shininess:l.detail.value})]}class Qo extends ve{constructor(e){super(),ge(this,e,Zo,Jo,_e,{})}}function Ko(t){let e,a,n,i,r,l,s,o;return e=new Ce({props:{label:"ambient",value:t[0].ambient}}),e.$on("input",t[1]),n=new Ce({props:{label:"diffuse",value:t[0].diffuse}}),n.$on("input",t[2]),r=new Ce({props:{label:"specular",value:t[0].specular}}),r.$on("input",t[3]),s=new Xe({props:{label:"direction",value:t[0].direction}}),s.$on("input",t[4]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment),i=I(),C(r.$$.fragment),l=I(),C(s.$$.fragment)},l(u){P(e.$$.fragment,u),a=M(u),P(n.$$.fragment,u),i=M(u),P(r.$$.fragment,u),l=M(u),P(s.$$.fragment,u)},m(u,f){D(e,u,f),N(u,a,f),D(n,u,f),N(u,i,f),D(r,u,f),N(u,l,f),D(s,u,f),o=!0},p(u,f){const c={};f&1&&(c.value=u[0].ambient),e.$set(c);const g={};f&1&&(g.value=u[0].diffuse),n.$set(g);const m={};f&1&&(m.value=u[0].specular),r.$set(m);const h={};f&1&&(h.value=u[0].direction),s.$set(h)},i(u){o||(T(e.$$.fragment,u),T(n.$$.fragment,u),T(r.$$.fragment,u),T(s.$$.fragment,u),o=!0)},o(u){O(e.$$.fragment,u),O(n.$$.fragment,u),O(r.$$.fragment,u),O(s.$$.fragment,u),o=!1},d(u){L(e,u),u&&$(a),L(n,u),u&&$(i),L(r,u),u&&$(l),L(s,u)}}}function el(t){let e,a;return e=new Ne({props:{title:"Directional light",$$slots:{default:[Ko]},$$scope:{ctx:t}}}),e.$on("reset",qe.reset),{c(){C(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){D(e,n,i),a=!0},p(n,[i]){const r={};i&33&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){a||(T(e.$$.fragment,n),a=!0)},o(n){O(e.$$.fragment,n),a=!1},d(n){L(e,n)}}}function tl(t,e,a){let n;return Ee(t,qe,o=>a(0,n=o)),[n,o=>qe.change({ambient:o.detail.value}),o=>qe.change({diffuse:o.detail.value}),o=>qe.change({specular:o.detail.value}),o=>qe.change({direction:o.detail.value})]}class nl extends ve{constructor(e){super(),ge(this,e,tl,el,_e,{})}}function al(t){let e,a,n,i,r,l,s,o,u,f,c,g;return e=new Ce({props:{label:"ambient",value:t[0].ambient}}),e.$on("input",t[1]),n=new Ce({props:{label:"diffuse",value:t[0].diffuse}}),n.$on("input",t[2]),r=new Ce({props:{label:"specular",value:t[0].specular}}),r.$on("input",t[3]),s=new Xe({props:{label:"position",value:t[0].position}}),s.$on("input",t[4]),u=new ee({props:{label:"attenuation1",min:0,max:100,step:.1,value:t[0].attenuation1}}),u.$on("input",t[5]),c=new ee({props:{label:"attenuation2",min:0,max:100,step:.1,value:t[0].attenuation2}}),c.$on("input",t[6]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment),i=I(),C(r.$$.fragment),l=I(),C(s.$$.fragment),o=I(),C(u.$$.fragment),f=I(),C(c.$$.fragment)},l(m){P(e.$$.fragment,m),a=M(m),P(n.$$.fragment,m),i=M(m),P(r.$$.fragment,m),l=M(m),P(s.$$.fragment,m),o=M(m),P(u.$$.fragment,m),f=M(m),P(c.$$.fragment,m)},m(m,h){D(e,m,h),N(m,a,h),D(n,m,h),N(m,i,h),D(r,m,h),N(m,l,h),D(s,m,h),N(m,o,h),D(u,m,h),N(m,f,h),D(c,m,h),g=!0},p(m,h){const p={};h&1&&(p.value=m[0].ambient),e.$set(p);const _={};h&1&&(_.value=m[0].diffuse),n.$set(_);const b={};h&1&&(b.value=m[0].specular),r.$set(b);const S={};h&1&&(S.value=m[0].position),s.$set(S);const v={};h&1&&(v.value=m[0].attenuation1),u.$set(v);const w={};h&1&&(w.value=m[0].attenuation2),c.$set(w)},i(m){g||(T(e.$$.fragment,m),T(n.$$.fragment,m),T(r.$$.fragment,m),T(s.$$.fragment,m),T(u.$$.fragment,m),T(c.$$.fragment,m),g=!0)},o(m){O(e.$$.fragment,m),O(n.$$.fragment,m),O(r.$$.fragment,m),O(s.$$.fragment,m),O(u.$$.fragment,m),O(c.$$.fragment,m),g=!1},d(m){L(e,m),m&&$(a),L(n,m),m&&$(i),L(r,m),m&&$(l),L(s,m),m&&$(o),L(u,m),m&&$(f),L(c,m)}}}function rl(t){let e,a;return e=new Ne({props:{title:"Point light",$$slots:{default:[al]},$$scope:{ctx:t}}}),e.$on("reset",ke.reset),{c(){C(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){D(e,n,i),a=!0},p(n,[i]){const r={};i&129&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){a||(T(e.$$.fragment,n),a=!0)},o(n){O(e.$$.fragment,n),a=!1},d(n){L(e,n)}}}function il(t,e,a){let n;return Ee(t,ke,f=>a(0,n=f)),[n,f=>ke.change({ambient:f.detail.value}),f=>ke.change({diffuse:f.detail.value}),f=>ke.change({specular:f.detail.value}),f=>ke.change({position:f.detail.value}),f=>ke.change({attenuation1:f.detail.value}),f=>ke.change({attenuation2:f.detail.value})]}class sl extends ve{constructor(e){super(),ge(this,e,il,rl,_e,{})}}function ol(t){let e,a,n,i,r,l,s,o,u,f,c,g,m,h,p,_,b,S;return e=new Ce({props:{label:"ambient",value:t[0].ambient}}),e.$on("input",t[1]),n=new Ce({props:{label:"diffuse",value:t[0].diffuse}}),n.$on("input",t[2]),r=new Ce({props:{label:"specular",value:t[0].specular}}),r.$on("input",t[3]),s=new Xe({props:{label:"position",value:t[0].position}}),s.$on("input",t[4]),u=new Xe({props:{label:"direction",value:t[0].direction}}),u.$on("input",t[5]),c=new ee({props:{label:"innerDegrees",min:0,max:360,step:1,value:t[0].innerDegrees}}),c.$on("input",t[6]),m=new ee({props:{label:"outerDegrees",min:0,max:360,step:1,value:t[0].outerDegrees}}),m.$on("input",t[7]),p=new ee({props:{label:"attenuation1",min:0,max:100,step:.1,value:t[0].attenuation1}}),p.$on("input",t[8]),b=new ee({props:{label:"attenuation2",min:0,max:100,step:.1,value:t[0].attenuation2}}),b.$on("input",t[9]),{c(){C(e.$$.fragment),a=I(),C(n.$$.fragment),i=I(),C(r.$$.fragment),l=I(),C(s.$$.fragment),o=I(),C(u.$$.fragment),f=I(),C(c.$$.fragment),g=I(),C(m.$$.fragment),h=I(),C(p.$$.fragment),_=I(),C(b.$$.fragment)},l(v){P(e.$$.fragment,v),a=M(v),P(n.$$.fragment,v),i=M(v),P(r.$$.fragment,v),l=M(v),P(s.$$.fragment,v),o=M(v),P(u.$$.fragment,v),f=M(v),P(c.$$.fragment,v),g=M(v),P(m.$$.fragment,v),h=M(v),P(p.$$.fragment,v),_=M(v),P(b.$$.fragment,v)},m(v,w){D(e,v,w),N(v,a,w),D(n,v,w),N(v,i,w),D(r,v,w),N(v,l,w),D(s,v,w),N(v,o,w),D(u,v,w),N(v,f,w),D(c,v,w),N(v,g,w),D(m,v,w),N(v,h,w),D(p,v,w),N(v,_,w),D(b,v,w),S=!0},p(v,w){const W={};w&1&&(W.value=v[0].ambient),e.$set(W);const q={};w&1&&(q.value=v[0].diffuse),n.$set(q);const te={};w&1&&(te.value=v[0].specular),r.$set(te);const ue={};w&1&&(ue.value=v[0].position),s.$set(ue);const ie={};w&1&&(ie.value=v[0].direction),u.$set(ie);const X={};w&1&&(X.value=v[0].innerDegrees),c.$set(X);const V={};w&1&&(V.value=v[0].outerDegrees),m.$set(V);const oe={};w&1&&(oe.value=v[0].attenuation1),p.$set(oe);const de={};w&1&&(de.value=v[0].attenuation2),b.$set(de)},i(v){S||(T(e.$$.fragment,v),T(n.$$.fragment,v),T(r.$$.fragment,v),T(s.$$.fragment,v),T(u.$$.fragment,v),T(c.$$.fragment,v),T(m.$$.fragment,v),T(p.$$.fragment,v),T(b.$$.fragment,v),S=!0)},o(v){O(e.$$.fragment,v),O(n.$$.fragment,v),O(r.$$.fragment,v),O(s.$$.fragment,v),O(u.$$.fragment,v),O(c.$$.fragment,v),O(m.$$.fragment,v),O(p.$$.fragment,v),O(b.$$.fragment,v),S=!1},d(v){L(e,v),v&&$(a),L(n,v),v&&$(i),L(r,v),v&&$(l),L(s,v),v&&$(o),L(u,v),v&&$(f),L(c,v),v&&$(g),L(m,v),v&&$(h),L(p,v),v&&$(_),L(b,v)}}}function ll(t){let e,a;return e=new Ne({props:{title:"Spot light",$$slots:{default:[ol]},$$scope:{ctx:t}}}),e.$on("reset",Oe.reset),{c(){C(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){D(e,n,i),a=!0},p(n,[i]){const r={};i&1025&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){a||(T(e.$$.fragment,n),a=!0)},o(n){O(e.$$.fragment,n),a=!1},d(n){L(e,n)}}}function ul(t,e,a){let n;return Ee(t,Oe,m=>a(0,n=m)),[n,m=>Oe.change({ambient:m.detail.value}),m=>Oe.change({diffuse:m.detail.value}),m=>Oe.change({specular:m.detail.value}),m=>Oe.change({position:m.detail.value}),m=>Oe.change({direction:m.detail.value}),m=>Oe.change({innerDegrees:m.detail.value}),m=>Oe.change({outerDegrees:m.detail.value}),m=>Oe.change({attenuation1:m.detail.value}),m=>Oe.change({attenuation2:m.detail.value})]}class cl extends ve{constructor(e){super(),ge(this,e,ul,ll,_e,{})}}function fl(t){let e,a,n,i,r,l,s,o,u,f,c,g,m,h,p,_,b,S;return a=new Co({}),i=new Fo({}),l=new zo({}),o=new Yo({}),f=new Qo({}),g=new nl({}),h=new sl({}),_=new cl({}),{c(){e=F("aside"),C(a.$$.fragment),n=I(),C(i.$$.fragment),r=I(),C(l.$$.fragment),s=I(),C(o.$$.fragment),u=I(),C(f.$$.fragment),c=I(),C(g.$$.fragment),m=I(),C(h.$$.fragment),p=I(),C(_.$$.fragment),this.h()},l(v){e=U(v,"ASIDE",{class:!0});var w=G(e);P(a.$$.fragment,w),n=M(w),P(i.$$.fragment,w),r=M(w),P(l.$$.fragment,w),s=M(w),P(o.$$.fragment,w),u=M(w),P(f.$$.fragment,w),c=M(w),P(g.$$.fragment,w),m=M(w),P(h.$$.fragment,w),p=M(w),P(_.$$.fragment,w),w.forEach($),this.h()},h(){d(e,"class",b=Ie(`container ${t[0]}`)+" svelte-7v3svs")},m(v,w){N(v,e,w),D(a,e,null),E(e,n),D(i,e,null),E(e,r),D(l,e,null),E(e,s),D(o,e,null),E(e,u),D(f,e,null),E(e,c),D(g,e,null),E(e,m),D(h,e,null),E(e,p),D(_,e,null),S=!0},p(v,[w]){(!S||w&1&&b!==(b=Ie(`container ${v[0]}`)+" svelte-7v3svs"))&&d(e,"class",b)},i(v){S||(T(a.$$.fragment,v),T(i.$$.fragment,v),T(l.$$.fragment,v),T(o.$$.fragment,v),T(f.$$.fragment,v),T(g.$$.fragment,v),T(h.$$.fragment,v),T(_.$$.fragment,v),S=!0)},o(v){O(a.$$.fragment,v),O(i.$$.fragment,v),O(l.$$.fragment,v),O(o.$$.fragment,v),O(f.$$.fragment,v),O(g.$$.fragment,v),O(h.$$.fragment,v),O(_.$$.fragment,v),S=!1},d(v){v&&$(e),L(a),L(i),L(l),L(o),L(f),L(g),L(h),L(_)}}}function pl(t,e,a){let{class:n=""}=e;return t.$$set=i=>{"class"in i&&a(0,n=i.class)},[n]}class ml extends ve{constructor(e){super(),ge(this,e,pl,fl,_e,{class:0})}}function Jt(t,e,a){const n=t.slice();return n[4]=e[a],n}function hl(t){let e,a;function n(...i){return t[3](t[4],...i)}return e=new Lt({props:{label:t[4].name,value:t[4].value}}),e.$on("change",n),{c(){C(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,r){D(e,i,r),a=!0},p(i,r){t=i;const l={};r&2&&(l.label=t[4].name),r&2&&(l.value=t[4].value),e.$set(l)},i(i){a||(T(e.$$.fragment,i),a=!0)},o(i){O(e.$$.fragment,i),a=!1},d(i){L(e,i)}}}function vl(t){let e,a;function n(...i){return t[2](t[4],...i)}return e=new ee({props:{label:t[4].name,min:t[4].min,max:t[4].max,step:t[4].step,value:t[4].value}}),e.$on("input",n),{c(){C(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,r){D(e,i,r),a=!0},p(i,r){t=i;const l={};r&2&&(l.label=t[4].name),r&2&&(l.min=t[4].min),r&2&&(l.max=t[4].max),r&2&&(l.step=t[4].step),r&2&&(l.value=t[4].value),e.$set(l)},i(i){a||(T(e.$$.fragment,i),a=!0)},o(i){O(e.$$.fragment,i),a=!1},d(i){L(e,i)}}}function Zt(t){let e,a,n,i;const r=[vl,hl],l=[];function s(o,u){return o[4].type==="slider"?0:o[4].type==="toggle"?1:-1}return~(e=s(t))&&(a=l[e]=r[e](t)),{c(){a&&a.c(),n=ct()},l(o){a&&a.l(o),n=ct()},m(o,u){~e&&l[e].m(o,u),N(o,n,u),i=!0},p(o,u){let f=e;e=s(o),e===f?~e&&l[e].p(o,u):(a&&(rn(),O(l[f],1,1,()=>{l[f]=null}),sn()),~e?(a=l[e],a?a.p(o,u):(a=l[e]=r[e](o),a.c()),T(a,1),a.m(n.parentNode,n)):a=null)},i(o){i||(T(a),i=!0)},o(o){O(a),i=!1},d(o){~e&&l[e].d(o),o&&$(n)}}}function gl(t){let e,a,n=t[1].current.editOptions,i=[];for(let l=0;l<n.length;l+=1)i[l]=Zt(Jt(t,n,l));const r=l=>O(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ct()},l(l){for(let s=0;s<i.length;s+=1)i[s].l(l);e=ct()},m(l,s){for(let o=0;o<i.length;o+=1)i[o].m(l,s);N(l,e,s),a=!0},p(l,s){if(s&2){n=l[1].current.editOptions;let o;for(o=0;o<n.length;o+=1){const u=Jt(l,n,o);i[o]?(i[o].p(u,s),T(i[o],1)):(i[o]=Zt(u),i[o].c(),T(i[o],1),i[o].m(e.parentNode,e))}for(rn(),o=n.length;o<i.length;o+=1)r(o);sn()}},i(l){if(!a){for(let s=0;s<n.length;s+=1)T(i[s]);a=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)O(i[s]);a=!1},d(l){Dn(i,l),l&&$(e)}}}function _l(t){let e,a,n,i;return a=new Ne({props:{title:t[1].current.name,$$slots:{default:[gl]},$$scope:{ctx:t}}}),a.$on("reset",Re.resetEditOptions),{c(){e=F("aside"),C(a.$$.fragment),this.h()},l(r){e=U(r,"ASIDE",{class:!0});var l=G(e);P(a.$$.fragment,l),l.forEach($),this.h()},h(){d(e,"class",n=Ie(`container ${t[0]}`)+" svelte-1solget")},m(r,l){N(r,e,l),D(a,e,null),i=!0},p(r,[l]){const s={};l&2&&(s.title=r[1].current.name),l&130&&(s.$$scope={dirty:l,ctx:r}),a.$set(s),(!i||l&1&&n!==(n=Ie(`container ${r[0]}`)+" svelte-1solget"))&&d(e,"class",n)},i(r){i||(T(a.$$.fragment,r),i=!0)},o(r){O(a.$$.fragment,r),i=!1},d(r){r&&$(e),L(a)}}}function dl(t,e,a){let n;Ee(t,Re,s=>a(1,n=s));let{class:i=""}=e;const r=(s,o)=>Re.changeEditOptions(s,o.detail.value),l=(s,o)=>Re.changeEditOptions(s,o.detail.value);return t.$$set=s=>{"class"in s&&a(0,i=s.class)},[i,n,r,l]}class $l extends ve{constructor(e){super(),ge(this,e,dl,_l,_e,{class:0})}}function Qt(t,e,a){const n=t.slice();return n[3]=e[a],n}function Kt(t,e){let a,n,i,r,l,s,o=e[3].name+"",u,f,c,g;function m(){return e[2](e[3])}return{key:t,first:null,c(){a=F("button"),n=F("img"),l=I(),s=F("span"),u=me(o),f=I(),this.h()},l(h){a=U(h,"BUTTON",{type:!0,class:!0});var p=G(a);n=U(p,"IMG",{class:!0,src:!0,alt:!0}),l=M(p),s=U(p,"SPAN",{});var _=G(s);u=he(_,o),_.forEach($),f=M(p),p.forEach($),this.h()},h(){d(n,"class","image svelte-1l1v01j"),Ve(n.src,i=`${ft}/demo-${e[3].name}.gif`)||d(n,"src",i),d(n,"alt",r=e[3].name),d(a,"type","button"),d(a,"class","option svelte-1l1v01j"),ze(a,"option--selected",e[3]===e[1].current),this.first=a},m(h,p){N(h,a,p),E(a,n),E(a,l),E(a,s),E(s,u),E(a,f),c||(g=Je(a,"click",m),c=!0)},p(h,p){e=h,p&2&&!Ve(n.src,i=`${ft}/demo-${e[3].name}.gif`)&&d(n,"src",i),p&2&&r!==(r=e[3].name)&&d(n,"alt",r),p&2&&o!==(o=e[3].name+"")&&Be(u,o),p&2&&ze(a,"option--selected",e[3]===e[1].current)},d(h){h&&$(a),c=!1,g()}}}function bl(t){let e,a=[],n=new Map,i,r=t[1].animations;const l=s=>s[3].name;for(let s=0;s<r.length;s+=1){let o=Qt(t,r,s),u=l(o);n.set(u,a[s]=Kt(u,o))}return{c(){e=F("aside");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=U(s,"ASIDE",{class:!0});var o=G(e);for(let u=0;u<a.length;u+=1)a[u].l(o);o.forEach($),this.h()},h(){d(e,"class",i=Ie(`container ${t[0]}`)+" svelte-1l1v01j")},m(s,o){N(s,e,o);for(let u=0;u<a.length;u+=1)a[u].m(e,null)},p(s,[o]){o&2&&(r=s[1].animations,a=Ln(a,o,l,1,s,r,n,e,In,Kt,null,Qt)),o&1&&i!==(i=Ie(`container ${s[0]}`)+" svelte-1l1v01j")&&d(e,"class",i)},i:He,o:He,d(s){s&&$(e);for(let o=0;o<a.length;o+=1)a[o].d()}}}function wl(t,e,a){let n;Ee(t,Re,l=>a(1,n=l));let{class:i=""}=e;const r=l=>Re.changeCurrentAnimation(l);return t.$$set=l=>{"class"in l&&a(0,i=l.class)},[i,n,r]}class yl extends ve{constructor(e){super(),ge(this,e,wl,bl,_e,{class:0})}}function en(t){t[12]=t[13].dataUri}function tn(t){let e,a,n={ctx:t,current:null,token:null,hasCatch:!0,pending:Tl,then:El,catch:Sl,value:13,error:14};return Mt(a=t[3],n),{c(){e=F("div"),n.block.c(),this.h()},l(i){e=U(i,"DIV",{class:!0});var r=G(e);n.block.l(r),r.forEach($),this.h()},h(){d(e,"class","preview__container preview__container--no-debug svelte-13qbjon")},m(i,r){N(i,e,r),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null},p(i,r){t=i,n.ctx=t,r&8&&a!==(a=t[3])&&Mt(a,n)||kn(n,t,r)},d(i){i&&$(e),n.block.d(),n.token=null,n=null}}}function Sl(t){let e,a,n=t[14]+"",i;return{c(){e=F("p"),a=me("An error has occurred: "),i=me(n),this.h()},l(r){e=U(r,"P",{class:!0});var l=G(e);a=he(l,"An error has occurred: "),i=he(l,n),l.forEach($),this.h()},h(){d(e,"class","preview__error svelte-13qbjon")},m(r,l){N(r,e,l),E(e,a),E(e,i)},p(r,l){l&8&&n!==(n=r[14]+"")&&Be(i,n)},d(r){r&&$(e)}}}function El(t){en(t);let e,a,n,i,r,l,s;return{c(){e=F("div"),a=F("img"),i=I(),r=F("a"),l=me("Download"),this.h()},l(o){e=U(o,"DIV",{class:!0});var u=G(e);a=U(u,"IMG",{class:!0,src:!0,alt:!0}),u.forEach($),i=M(o),r=U(o,"A",{class:!0,download:!0,href:!0});var f=G(r);l=he(f,"Download"),f.forEach($),this.h()},h(){d(a,"class","preview__image svelte-13qbjon"),Ve(a.src,n=t[12])||d(a,"src",n),d(a,"alt","generated gif"),d(e,"class","preview__image-container svelte-13qbjon"),d(r,"class","preview__download-button svelte-13qbjon"),d(r,"download","jumping_peter.gif"),d(r,"href",s=t[12])},m(o,u){N(o,e,u),E(e,a),N(o,i,u),N(o,r,u),E(r,l)},p(o,u){en(o),u&8&&!Ve(a.src,n=o[12])&&d(a,"src",n),u&8&&s!==(s=o[12])&&d(r,"href",s)},d(o){o&&$(e),o&&$(i),o&&$(r)}}}function Tl(t){let e,a,n,i,r,l,s=t[4].frame+"",o,u,f=t[5].totalFrames+"",c,g,m,h,p,_;return{c(){e=F("div"),a=F("p"),n=me("Generating..."),i=I(),r=F("p"),l=me("["),o=me(s),u=me(" / "),c=me(f),g=me("]"),m=I(),h=F("progress"),this.h()},l(b){e=U(b,"DIV",{class:!0});var S=G(e);a=U(S,"P",{});var v=G(a);n=he(v,"Generating..."),v.forEach($),i=M(S),r=U(S,"P",{});var w=G(r);l=he(w,"["),o=he(w,s),u=he(w," / "),c=he(w,f),g=he(w,"]"),w.forEach($),m=M(S),h=U(S,"PROGRESS",{class:!0,max:!0}),G(h).forEach($),S.forEach($),this.h()},h(){d(h,"class","preview__progress svelte-13qbjon"),d(h,"max",p=t[5].totalFrames),h.value=_=t[4].frame,d(e,"class","preview__loading svelte-13qbjon")},m(b,S){N(b,e,S),E(e,a),E(a,n),E(e,i),E(e,r),E(r,l),E(r,o),E(r,u),E(r,c),E(r,g),E(e,m),E(e,h)},p(b,S){S&16&&s!==(s=b[4].frame+"")&&Be(o,s),S&32&&f!==(f=b[5].totalFrames+"")&&Be(c,f),S&32&&p!==(p=b[5].totalFrames)&&d(h,"max",p),S&16&&_!==(_=b[4].frame)&&(h.value=_)},d(b){b&&$(e)}}}function Ol(t){let e,a,n,i,r,l,s,o,u,f,c,g;n=new Lt({props:{label:"Debug Mode",value:t[1]}}),n.$on("change",t[7]);let m=!t[1]&&t[3]&&tn(t);return f=new ee({props:{min:0,max:t[5].totalFrames-1,step:1,value:t[4].frame}}),f.$on("input",t[6]),{c(){e=F("main"),a=F("div"),C(n.$$.fragment),i=I(),m&&m.c(),r=I(),l=F("div"),s=F("div"),o=F("canvas"),u=I(),C(f.$$.fragment),this.h()},l(h){e=U(h,"MAIN",{class:!0});var p=G(e);a=U(p,"DIV",{class:!0});var _=G(a);P(n.$$.fragment,_),_.forEach($),i=M(p),m&&m.l(p),r=M(p),l=U(p,"DIV",{class:!0});var b=G(l);s=U(b,"DIV",{class:!0});var S=G(s);o=U(S,"CANVAS",{class:!0,style:!0}),G(o).forEach($),S.forEach($),u=M(b),P(f.$$.fragment,b),b.forEach($),p.forEach($),this.h()},h(){d(a,"class","preview__debug-input svelte-13qbjon"),d(o,"class","preview__image svelte-13qbjon"),Mn(o,"transform","scaleY(-1)"),d(s,"class","preview__image-container svelte-13qbjon"),d(l,"class","preview__container preview__container--debug svelte-13qbjon"),d(e,"class",c=Ie(`preview ${t[0]}`)+" svelte-13qbjon"),ze(e,"preview--debug",t[1]),ze(e,"preview--no-debug",!t[1])},m(h,p){N(h,e,p),E(e,a),D(n,a,null),E(e,i),m&&m.m(e,null),E(e,r),E(e,l),E(l,s),E(s,o),t[9](o),E(l,u),D(f,l,null),g=!0},p(h,[p]){const _={};p&2&&(_.value=h[1]),n.$set(_),!h[1]&&h[3]?m?m.p(h,p):(m=tn(h),m.c(),m.m(e,r)):m&&(m.d(1),m=null);const b={};p&32&&(b.max=h[5].totalFrames-1),p&16&&(b.value=h[4].frame),f.$set(b),(!g||p&1&&c!==(c=Ie(`preview ${h[0]}`)+" svelte-13qbjon"))&&d(e,"class",c),(!g||p&3)&&ze(e,"preview--debug",h[1]),(!g||p&3)&&ze(e,"preview--no-debug",!h[1])},i(h){g||(T(n.$$.fragment,h),T(f.$$.fragment,h),g=!0)},o(h){O(n.$$.fragment,h),O(f.$$.fragment,h),g=!1},d(h){h&&$(e),L(n),m&&m.d(),t[9](null),L(f)}}}function Al(t,e,a){let n,i,r;Ee(t,Ct,p=>a(8,n=p)),Ee(t,tt,p=>a(4,i=p)),Ee(t,Ue,p=>a(5,r=p));let l,{class:s=""}=e,o=!1,u=null;function f(){tt.renderFrame().catch(p=>{throw console.error(`renderFrame failed: ${p}`),p})}function c(){a(3,u=tt.animate().catch(p=>{throw console.error(`animate failed: ${p}`),p}))}jn(()=>{tt.changeCanvas(l),c()});function g(p){tt.renderFrame(p.detail.value).catch(_=>console.error(`Animation failed: ${_}`))}function m(p){a(1,o=p.detail.value)}function h(p){Fn[p?"unshift":"push"](()=>{l=p,a(2,l)})}return t.$$set=p=>{"class"in p&&a(0,s=p.class)},t.$$.update=()=>{t.$$.dirty&258&&(o?f():c())},[s,o,l,u,i,r,g,m,n,h]}class Cl extends ve{constructor(e){super(),ge(this,e,Al,Ol,_e,{class:0})}}function Pl(t){let e,a,n,i,r,l,s,o,u,f,c,g,m,h,p,_,b,S,v,w,W,q,te,ue,ie;return document.title=e=nt,_=new Nn({props:{class:"header"}}),S=new yl({props:{class:"animations"}}),w=new ml({props:{class:"common-options"}}),q=new $l({props:{class:"animation-options"}}),ue=new Cl({props:{class:"preview"}}),{c(){a=F("meta"),n=F("meta"),i=F("meta"),r=F("meta"),l=F("meta"),s=F("meta"),o=F("meta"),u=F("meta"),f=F("meta"),c=F("meta"),g=F("meta"),m=F("meta"),h=I(),p=F("div"),C(_.$$.fragment),b=I(),C(S.$$.fragment),v=I(),C(w.$$.fragment),W=I(),C(q.$$.fragment),te=I(),C(ue.$$.fragment),this.h()},l(X){const V=Un("svelte-2dqrj",document.head);a=U(V,"META",{name:!0,content:!0,class:!0}),n=U(V,"META",{name:!0,content:!0,class:!0}),i=U(V,"META",{property:!0,content:!0,class:!0}),r=U(V,"META",{property:!0,content:!0,class:!0}),l=U(V,"META",{property:!0,content:!0,class:!0}),s=U(V,"META",{property:!0,content:!0,class:!0}),o=U(V,"META",{property:!0,content:!0,class:!0}),u=U(V,"META",{property:!0,content:!0,class:!0}),f=U(V,"META",{property:!0,content:!0,class:!0}),c=U(V,"META",{property:!0,content:!0,class:!0}),g=U(V,"META",{property:!0,content:!0,class:!0}),m=U(V,"META",{property:!0,content:!0,class:!0}),V.forEach($),h=M(X),p=U(X,"DIV",{class:!0});var oe=G(p);P(_.$$.fragment,oe),b=M(oe),P(S.$$.fragment,oe),v=M(oe),P(w.$$.fragment,oe),W=M(oe),P(q.$$.fragment,oe),te=M(oe),P(ue.$$.fragment,oe),oe.forEach($),this.h()},h(){d(a,"name","title"),d(a,"content",nt),d(a,"class","svelte-z7ouxl"),d(n,"name","description"),d(n,"content",Ot),d(n,"class","svelte-z7ouxl"),d(i,"property","og:type"),d(i,"content","website"),d(i,"class","svelte-z7ouxl"),d(r,"property","og:url"),d(r,"content",nn),d(r,"class","svelte-z7ouxl"),d(l,"property","og:title"),d(l,"content",nt),d(l,"class","svelte-z7ouxl"),d(s,"property","og:description"),d(s,"content",Ot),d(s,"class","svelte-z7ouxl"),d(o,"property","og:image"),d(o,"content",an),d(o,"class","svelte-z7ouxl"),d(u,"property","twitter:card"),d(u,"content","summary_large_image"),d(u,"class","svelte-z7ouxl"),d(f,"property","twitter:url"),d(f,"content",nn),d(f,"class","svelte-z7ouxl"),d(c,"property","twitter:title"),d(c,"content",nt),d(c,"class","svelte-z7ouxl"),d(g,"property","twitter:description"),d(g,"content",Ot),d(g,"class","svelte-z7ouxl"),d(m,"property","twitter:image"),d(m,"content",an),d(m,"class","svelte-z7ouxl"),d(p,"class","grid svelte-z7ouxl")},m(X,V){E(document.head,a),E(document.head,n),E(document.head,i),E(document.head,r),E(document.head,l),E(document.head,s),E(document.head,o),E(document.head,u),E(document.head,f),E(document.head,c),E(document.head,g),E(document.head,m),N(X,h,V),N(X,p,V),D(_,p,null),E(p,b),D(S,p,null),E(p,v),D(w,p,null),E(p,W),D(q,p,null),E(p,te),D(ue,p,null),ie=!0},p(X,[V]){(!ie||V&0)&&e!==(e=nt)&&(document.title=e)},i(X){ie||(T(_.$$.fragment,X),T(S.$$.fragment,X),T(w.$$.fragment,X),T(q.$$.fragment,X),T(ue.$$.fragment,X),ie=!0)},o(X){O(_.$$.fragment,X),O(S.$$.fragment,X),O(w.$$.fragment,X),O(q.$$.fragment,X),O(ue.$$.fragment,X),ie=!1},d(X){$(a),$(n),$(i),$(r),$(l),$(s),$(o),$(u),$(f),$(c),$(g),$(m),X&&$(h),X&&$(p),L(_),L(S),L(w),L(q),L(ue)}}}const nt="Jumping Peter",Ot="With Jumping Peter you can generate custom GIF emojis from images, with dozens of pre-built animations and effects",nn="https://ksmai.github.io/jumping-peter",an="https://ksmai.github.io/jumping-peter/favicon.png";class Ml extends ve{constructor(e){super(),ge(this,e,null,Pl,_e,{})}}export{Ml as default};
